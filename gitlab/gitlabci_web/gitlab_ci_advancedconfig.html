<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="utf-8">

  <title>Advanced configuration | GitLab</title>


  <meta name="description" content="Documentation for GitLab Community Edition, GitLab Enterprise Edition, Omnibus GitLab, and GitLab Runner.">

<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<!--https://community.algolia.com/docsearch/required-configuration.html#introduces-global-information-as-meta-tags-->
<meta name="docsearch:language" content="en" />

<meta name="docsearch:version" content="master" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/stylesheets/stylesheet-v64.css">
<link rel="stylesheet" href="/assets/stylesheets/highlight-v7.css">
<link rel="stylesheet" href="/assets/stylesheets/footer-v4.css">
<link rel="stylesheet" href="/assets/stylesheets/toc-v7.css">
<link rel="stylesheet" href="/assets/stylesheets/comments-v4.css">
<!-- new fontawesome version 4 - via CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- end of fontawesome -->
<!-- Docsearch https://community.algolia.com/docsearch/ - via CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
<!-- end of docsearch -->

  
  <!-- add cookie consent  -->
  <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="36a06ac5-ddb4-4f91-8337-067ad19ad8d5" type="text/javascript"></script>

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WZCXKT5');</script>
  <!-- End Google Tag Manager -->

  <!-- Google webmasters verification -->
  <meta name="google-site-verification" content="6eFQOFLxYAer08ROqc3I-SAi44F9NmvH7PrUUBR3oCI" />


<script async src="/assets/javascripts/classlist-polyfill-v1.js"></script>
<script async src="/assets/javascripts/closest-polyfill-v.js"></script>
<!-- you don't need to keep this, but it's cool for stats! -->
<meta name="generator" content="Nanoc 4.11.12">
<!-- Algolia Searching from the URL bar https://www.algolia.com/doc/tutorials/search-ui/ux-patterns/search-from-the-url-bar/ -->
<link href='/opensearch.xml' rel='search' title='Search through GitLab Docs' type='application/opensearchdescription+xml'>



  
    
      <link rel="canonical" href="https://docs.gitlab.com/runner/configuration/advanced-configuration.html" />
    
  


</head>
<body itemscope itemtype="http://schema.org/WebPage" data-spy="scroll" data-target="#doc-nav" data-offset="90">
  
  
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WZCXKT5"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->


  <div class="header">
  <div class="flex-container align-center">
    <a class="header-link logo-container flex-container justify-center align-center" href="/">
      <img src="/assets/images/gitlab-logo.svg" class="logo" />
      <p>GitLab <strong>Docs</strong></p>
    </a>
    
      
      <form id="search-form" action="/search/" method="get">
        <input type="text" name="q" class="docsearch" placeholder="Search" required/>
        <input type="submit" style="visibility: hidden; position:absolute;" />
      </form>
      
    
    <!-- versions dropdown-->
<div class="choose-version">
Choose version
</div>
<div class="dropdown">
  <a role="button" class="btn btn-versions dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="versions" href="#">
    <!--
      Name the label dropdown after the release version so that you know
      which version you're browsing. For `/archives` show 'Archives' since
      they're supposed to be versionless.
      If we build on master and stable branches (versions), show the following
      name in the drodown menu:
        - GitLab.com if master.
        - The branch name otherwise.
      For local development and review apps, show "Versions".
    -->
    
      
        GitLab.com
      
    
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu versions-menu" aria-labelledby="versions">
    <li>
      <a class="active" href='/runner/configuration/advanced-configuration.html' class="versions-tooltip">GitLab.com
        <i class="fa fa-question-circle-o" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Latest pre-release version of GitLab (master), with features available or about to become available on GitLab.com. For self-managed GitLab installations, select your version number as listed at your GitLab instance's /help URL."></i>
      </a>
    </li>
    <li class="dropdown-divider"></li>
    
      <!--
        If we are on the archives page, the link here is hardcoded to always
        point to `/archives/`. If you visit https://docs.gitlab.com/archives/
        and select a version from the dropdown, that version's archives page
        will be shown. We want to always show the latest archives page as it
        contains all current versions and offline archives.
      -->
      
        <li>
          <a href='/12.4/runner/configuration/advanced-configuration.html'>
            12.4
          </a>
        </li>
      
    
      <!--
        If we are on the archives page, the link here is hardcoded to always
        point to `/archives/`. If you visit https://docs.gitlab.com/archives/
        and select a version from the dropdown, that version's archives page
        will be shown. We want to always show the latest archives page as it
        contains all current versions and offline archives.
      -->
      
        <li>
          <a href='/12.3/runner/configuration/advanced-configuration.html'>
            12.3
          </a>
        </li>
      
    
      <!--
        If we are on the archives page, the link here is hardcoded to always
        point to `/archives/`. If you visit https://docs.gitlab.com/archives/
        and select a version from the dropdown, that version's archives page
        will be shown. We want to always show the latest archives page as it
        contains all current versions and offline archives.
      -->
      
        <li>
          <a href='/12.2/runner/configuration/advanced-configuration.html'>
            12.2
          </a>
        </li>
      
    
    <li class="dropdown-divider"></li>
    <li><a href='/archives/'>Archives</a></li>
  </ul>
</div>
<!-- versions dropdown-->

  </div>
  <div class="nav-container">
    <a class="nav-toggle" id="docs-nav-toggle">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </a>
    <ul class="nav">
      
      <li class="nav-item">
        <form id="mobile-search-form" action="/search/" method="get">
          <input type="text" name="q" class="docsearch docsearch-mobile" placeholder="Search" required/>
          <input type="submit" style="visibility: hidden; position:absolute;" />
        </form>
      </li>
      
      
        
          
            <li class="nav-item">
              <a href="/ee/README.html">
                GitLab
              </a>
            </li>
          
        
          
            <li class="nav-item">
              <a href="/omnibus/README.html">
                Omnibus
              </a>
            </li>
          
        
          
            <li class="nav-item">
              <a href="/runner/">
                Runner
              </a>
            </li>
          
        
          
            <li class="nav-item">
              <a href="/charts/">
                Charts
              </a>
            </li>
          
        
      
    </ul>
  </div>
</div>

  <div class="wrapper">
    <div class="nav-wrapper active">
      <aside id="global-nav" class="global-nav">
      
        
<nav class="global-nav-content">
  <!-- nav sections -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/">
          Runner Docs
        </a>
        <div class="section-title  collapsed" data-toggle="collapse" aria-expanded="false" data-target="#RunnerDocs"></div>
      </span>

      <!-- nav categories -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/install/">
          Install
        </a>
        <div class="section-title  collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Install"></div>
      </span>

      <!-- nav categories -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/configuration/">
          Configure
        </a>
        <div class="section-title  collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Configure"></div>
      </span>

      <!-- nav categories -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/register/">
          Register
        </a>
        <div class="section-title  collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Register"></div>
      </span>

      <!-- nav categories -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/executors/README.html">
          Executors
        </a>
        <div class="section-title collapse-toggle collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Executors"></div>
      </span>

      <!-- nav categories -->
      
      <div class="collapse " id="Executors">
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/custom.html">
                Custom
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Custom"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/docker.html">
                Docker
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Docker"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/docker_machine.html">
                Docker Machine
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#DockerMachine"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/kubernetes.html">
                Kubernetes
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Kubernetes"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/shell.html">
                Shell
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Shell"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/ssh.html">
                SSH
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#SSH"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/parallels.html">
                Parallels
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Parallels"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        
          <span class="global-nav-cat nav-link">
            
              
              <a class="global-nav-link level-1 " href="/runner/executors/virtualbox.html">
                Virtual Box
                <!-- end of if cat[:ee_only] -->
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#VirtualBox"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        <!-- end of sec[:section_categories] -->
      </div><!-- end of div class="collapse" -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/faq/README.html">
          Troubleshoot
        </a>
        <div class="section-title  collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Troubleshoot"></div>
      </span>

      <!-- nav categories -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  
    <div class="global-nav-section">
      <span class="global-nav-block-top nav-link">
        
        <a class="global-nav-link level-0 " href="/runner/development/README.html">
          Contribute
        </a>
        <div class="section-title collapse-toggle collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Contribute"></div>
      </span>

      <!-- nav categories -->
      
      <div class="collapse " id="Contribute">
        
          <span class="global-nav-cat nav-link">
            
              <a class="global-nav-link level-1" href="https://docs.gitlab.com/ee/development/documentation/" target="_blank">
                Documentation
              </a>
            <!-- end of if cat[:external_url] -->
            <div class=" collapsed" data-toggle="collapse" aria-expanded="false" data-target="#Documentation"></div>
          </span>

          <!-- nav docs -->
          <!-- end of if cat[:docs].nil? -->
        <!-- end of sec[:section_categories] -->
      </div><!-- end of div class="collapse" -->
      <!-- end of if sec[:section_categories].nil? -->
    </div><!-- end of div class="global-nav-section" -->
  <!-- end of nav_items[:sections] -->
</nav>

      
      </aside>
      <div id="js-nav-toggle"></div>
    </div>
    <div class="main class js-main-wrapper">
      
        
        
          <ul class="breadcrumbs">
            
              <li class="breadcrumb"><a href="/runner/">GitLab Runner Docs</a></li>
            
              <li class="breadcrumb"><a href="/runner/configuration/">Configuring GitLab Runner</a></li>
            
            <li class="breadcrumb">Advanced configuration</li>
          </ul>
          <div id="doc-nav" class="doc-nav">
            <a class="toc-collapse" data-toggle="collapse" href="#markdown-toc" aria-expanded="true" aria-controls="markdown-toc"></a>
          </div>
        
      
      
        <h1 class="article-title" itemprop="name">
          Advanced configuration
        </h1>
      
      
      <div class="article-content js-article-content" role="main" itemscope itemprop="mainContentOfPage">
        <ul id="markdown-toc">
  <li>
<a href="#the-global-section" id="markdown-toc-the-global-section">The global section</a>    <ul>
      <li><a href="#how-check_interval-works" id="markdown-toc-how-check_interval-works">How <code class="highlighter-rouge">check_interval</code> works</a></li>
    </ul>
  </li>
  <li><a href="#the-session_server-section" id="markdown-toc-the-session_server-section">The <code class="highlighter-rouge">[session_server]</code> section</a></li>
  <li>
<a href="#the-runners-section" id="markdown-toc-the-runners-section">The <code class="highlighter-rouge">[[runners]]</code> section</a>    <ul>
      <li><a href="#how-clone_url-works" id="markdown-toc-how-clone_url-works">How <code class="highlighter-rouge">clone_url</code> works</a></li>
    </ul>
  </li>
  <li><a href="#the-executors" id="markdown-toc-the-executors">The EXECUTORS</a></li>
  <li><a href="#the-shells" id="markdown-toc-the-shells">The SHELLS</a></li>
  <li>
<a href="#the-runnersdocker-section" id="markdown-toc-the-runnersdocker-section">The <code class="highlighter-rouge">[runners.docker]</code> section</a>    <ul>
      <li>
<a href="#volumes-in-the-runnersdocker-section" id="markdown-toc-volumes-in-the-runnersdocker-section">Volumes in the <code class="highlighter-rouge">[runners.docker]</code> section</a>        <ul>
          <li><a href="#example-1-adding-a-data-volume" id="markdown-toc-example-1-adding-a-data-volume">Example 1: adding a data volume</a></li>
          <li><a href="#example-2-mount-a-host-directory-as-a-data-volume" id="markdown-toc-example-2-mount-a-host-directory-as-a-data-volume">Example 2: mount a host directory as a data volume</a></li>
        </ul>
      </li>
      <li>
<a href="#using-a-private-container-registry" id="markdown-toc-using-a-private-container-registry">Using a private container registry</a>        <ul>
          <li><a href="#support-for-gitlab-integrated-registry" id="markdown-toc-support-for-gitlab-integrated-registry">Support for GitLab integrated registry</a></li>
          <li><a href="#precedence-of-docker-authorization-resolving" id="markdown-toc-precedence-of-docker-authorization-resolving">Precedence of Docker authorization resolving</a></li>
          <li><a href="#restrict-allowed_images-to-private-registry" id="markdown-toc-restrict-allowed_images-to-private-registry">Restrict <code class="highlighter-rouge">allowed_images</code> to private registry</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#the-runnersparallels-section" id="markdown-toc-the-runnersparallels-section">The <code class="highlighter-rouge">[runners.parallels]</code> section</a></li>
  <li><a href="#the-runnersvirtualbox-section" id="markdown-toc-the-runnersvirtualbox-section">The <code class="highlighter-rouge">[runners.virtualbox]</code> section</a></li>
  <li><a href="#the-runnersssh-section" id="markdown-toc-the-runnersssh-section">The <code class="highlighter-rouge">[runners.ssh]</code> section</a></li>
  <li>
<a href="#the-runnersmachine-section" id="markdown-toc-the-runnersmachine-section">The <code class="highlighter-rouge">[runners.machine]</code> section</a>    <ul>
      <li><a href="#offpeakperiods-syntax" id="markdown-toc-offpeakperiods-syntax">OffPeakPeriods syntax</a></li>
    </ul>
  </li>
  <li><a href="#the-runnerscustom-section" id="markdown-toc-the-runnerscustom-section">The <code class="highlighter-rouge">[runners.custom]</code> section</a></li>
  <li>
<a href="#the-runnerscache-section" id="markdown-toc-the-runnerscache-section">The <code class="highlighter-rouge">[runners.cache]</code> section</a>    <ul>
      <li><a href="#the-runnerscaches3-section" id="markdown-toc-the-runnerscaches3-section">The <code class="highlighter-rouge">[runners.cache.s3]</code> section</a></li>
      <li><a href="#the-runnerscachegcs-section" id="markdown-toc-the-runnerscachegcs-section">The <code class="highlighter-rouge">[runners.cache.gcs]</code> section</a></li>
    </ul>
  </li>
  <li><a href="#the-runnerskubernetes-section" id="markdown-toc-the-runnerskubernetes-section">The <code class="highlighter-rouge">[runners.kubernetes]</code> section</a></li>
  <li>
<a href="#helper-image" id="markdown-toc-helper-image">Helper image</a>    <ul>
      <li><a href="#overriding-the-helper-image" id="markdown-toc-overriding-the-helper-image">Overriding the helper image</a></li>
    </ul>
  </li>
  <li><a href="#the-runnerscustom_build_dir-section" id="markdown-toc-the-runnerscustom_build_dir-section">The <code class="highlighter-rouge">[runners.custom_build_dir]</code> section</a></li>
  <li><a href="#note" id="markdown-toc-note">Note</a></li>
</ul>

<h1 id="advanced-configuration">Advanced configuration<a href="#advanced-configuration" title="Permalink" class="anchor"></a>
</h1>

<p>GitLab Runner configuration uses the <a href="https://github.com/toml-lang/toml">TOML</a> format.</p>

<p>The file to be edited can be found in:</p>

<ol>
  <li>
<code class="highlighter-rouge">/etc/gitlab-runner/config.toml</code> on *nix systems when GitLab Runner is
executed as root (<strong>this is also path for service configuration</strong>)</li>
  <li>
<code class="highlighter-rouge">~/.gitlab-runner/config.toml</code> on *nix systems when GitLab Runner is
executed as non-root</li>
  <li>
<code class="highlighter-rouge">./config.toml</code> on other systems</li>
</ol>

<h2 id="the-global-section">The global section<a href="#the-global-section" title="Permalink" class="anchor"></a>
</h2>

<p>This defines global settings of GitLab Runner.</p>

<table>
  <thead>
    <tr>
      <th>Setting</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">concurrent</code></td>
      <td>limits how many jobs globally can be run concurrently. The most upper limit of jobs using all defined runners. <code class="highlighter-rouge">0</code> <strong>does not</strong> mean unlimited</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">log_level</code></td>
      <td>Log level (options: debug, info, warn, error, fatal, panic). Note that this setting has lower priority than level set by command line argument <code class="highlighter-rouge">--debug</code>, <code class="highlighter-rouge">-l</code> or <code class="highlighter-rouge">--log-level</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">log_format</code></td>
      <td>Log format (options: runner, text, json). Note that this setting has lower priority than format set by command line argument <code class="highlighter-rouge">--log-format</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">check_interval</code></td>
      <td>defines the interval length, in seconds, between new jobs check. The default value is <code class="highlighter-rouge">3</code>; if set to <code class="highlighter-rouge">0</code> or lower, the default value will be used.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">sentry_dsn</code></td>
      <td>enable tracking of all system level errors to sentry</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">listen_address</code></td>
      <td>address (<code class="highlighter-rouge">&lt;host&gt;:&lt;port&gt;</code>) on which the Prometheus metrics HTTP server should be listening</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>concurrent <span class="o">=</span> 4
log_level <span class="o">=</span> <span class="s2">"warning"</span>
</code></pre></div></div>

<h3 id="how-check_interval-works">How <code class="highlighter-rouge">check_interval</code> works<a href="#how-check_interval-works" title="Permalink" class="anchor"></a>
</h3>

<p>If there is more than one <code class="highlighter-rouge">[[runners]]</code> section in <code class="highlighter-rouge">config.toml</code> (let’s call them workers),
the interval between requests to GitLab are more frequent than one could expect. GitLab Runner
contains a loop that constantly schedules a request that should be made for a worker against
the GitLab instance it’s configured for.</p>

<p>GitLab Runner tries to ensure that subsequent requests for one worker will be done in the specified interval,
so the value of <code class="highlighter-rouge">check_interval</code> is divided by the number of the <code class="highlighter-rouge">[[runners]]</code> sections. The loop will next
iterate over all sections, schedule a request for each of them, and will sleep for the calculated amount
of time. Things get interesting when the workers are tied to a different GitLab instance.
Consider the following example.</p>

<p>If one would set <code class="highlighter-rouge">check_interval = 10</code>, and there were 2 workers in total (<code class="highlighter-rouge">runner-1</code> and <code class="highlighter-rouge">runner-2</code>),
a subsequent request would be made each 10 seconds. The loop would look like:</p>

<ol>
  <li>Get <code class="highlighter-rouge">check_interval</code> value (<code class="highlighter-rouge">10s</code>).</li>
  <li>Get list of workers (<code class="highlighter-rouge">runner-1</code>, <code class="highlighter-rouge">runner-2</code>).</li>
  <li>Calculate the sleep interval (<code class="highlighter-rouge">10s / 2 = 5s</code>).</li>
  <li>Start an infinite loop:
    <ol>
      <li>Request a job for <code class="highlighter-rouge">runner-1</code>.</li>
      <li>Sleep for <code class="highlighter-rouge">5s</code>.</li>
      <li>Request a job for <code class="highlighter-rouge">runner-2</code>.</li>
      <li>Sleep for <code class="highlighter-rouge">5s</code>.</li>
      <li>Repeat.</li>
    </ol>
  </li>
</ol>

<p>So, a request from the Runner’s process is made each 5s. If <code class="highlighter-rouge">runner-1</code> and <code class="highlighter-rouge">runner-2</code> are connected to the same
GitLab instance, it means that the request to this GitLab instance will receive a new request from this Runner
also each 5s. But as you can see, between the first request for <code class="highlighter-rouge">runner-1</code> and second request for <code class="highlighter-rouge">runner-1</code>
there are two sleeps taking 5s, so finally it’s ~10s between subsequent requests for <code class="highlighter-rouge">runner-1</code>. The same goes
for <code class="highlighter-rouge">runner-2</code>. If you define more workers, the sleep interval will be smaller, but a request for a worker will
be repeated after all requests for the other workers + their sleeps are called.</p>

<h2 id="the-session_server-section">The <code class="highlighter-rouge">[session_server]</code> section<a href="#the-session_server-section" title="Permalink" class="anchor"></a>
</h2>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
<code class="highlighter-rouge">session_server</code> is not yet supported by
<a href="https://docs.gitlab.com/charts/charts/gitlab/gitlab-runner/index.html"><code class="highlighter-rouge">gitlab-runner</code> helm chart</a>,
but support <a href="https://gitlab.com/gitlab-org/charts/gitlab-runner/issues/79">is planned</a>.</div></div>

<p>The section <code class="highlighter-rouge">[session_server]</code> is a system runner level configuration, so it should be specified at the root level,
not per executor i.e. it should be outside <code class="highlighter-rouge">[[runners]]</code> section. The session server allows the user to interact
with jobs that the Runner is responsible for. A good example of this is the
<a href="https://docs.gitlab.com/ee/ci/interactive_web_terminal/index.html">interactive web terminal</a>.</p>

<p>Both <code class="highlighter-rouge">listen_address</code> and <code class="highlighter-rouge">advertise_address</code> should be provided in the form
of <code class="highlighter-rouge">host:port</code>, where <code class="highlighter-rouge">host</code> may be an IP address (e.g., <code class="highlighter-rouge">127.0.0.1:8093</code>)
or a domain (e.g., <code class="highlighter-rouge">my-runner.example.com:8093</code>). The Runner will create a
TLS certificate automatically to have a secure connection.</p>

<p>If you want to disable the session server, just delete the <code class="highlighter-rouge">[session_server]</code>
section and terminal support will be disabled.</p>

<table>
  <thead>
    <tr>
      <th>Setting</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">listen_address</code></td>
      <td>An internal URL to be used for the session server.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">advertise_address</code></td>
      <td>The URL that the Runner will expose to GitLab to be used to access the session server. Fallbacks to <code class="highlighter-rouge">listen_address</code> if not defined.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">session_timeout</code></td>
      <td>How long in seconds the session can stay active after the job completes (which will block the job from finishing), defaults to <code class="highlighter-rouge">1800</code> (30 minutes).</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>session_server]
  listen_address <span class="o">=</span> <span class="s2">"0.0.0.0:8093"</span> <span class="c">#  listen on all available interfaces on port 8093</span>
  advertise_address <span class="o">=</span> <span class="s2">"runner-host-name.tld:8093"</span>
  session_timeout <span class="o">=</span> 1800
</code></pre></div></div>

<h2 id="the-runners-section">The <code class="highlighter-rouge">[[runners]]</code> section<a href="#the-runners-section" title="Permalink" class="anchor"></a>
</h2>

<p>This defines one runner entry.</p>

<table>
  <thead>
    <tr>
      <th>Setting</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">name</code></td>
      <td>The Runner’s description, just informatory</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">url</code></td>
      <td>GitLab URL</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">token</code></td>
      <td>The Runner’s special token (not to be confused with the registration token)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tls-ca-file</code></td>
      <td>File containing the certificates to verify the peer when using HTTPS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tls-cert-file</code></td>
      <td>File containing the certificate to authenticate with the peer when using HTTPS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tls-key-file</code></td>
      <td>File containing the private key to authenticate with the peer when using HTTPS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">limit</code></td>
      <td>Limit how many jobs can be handled concurrently by this token. <code class="highlighter-rouge">0</code> (default) simply means don’t limit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">executor</code></td>
      <td>Select how a project should be built, see next section</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">shell</code></td>
      <td>Name of shell to generate the script. Default value is <a href="../shells/index.html#overview">platform dependent</a>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">builds_dir</code></td>
      <td>Absolute path to a directory where builds will be stored in context of selected executor (Locally, Docker, SSH)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cache_dir</code></td>
      <td>Absolute path to a directory where build caches will be stored in context of selected executor (locally, Docker, SSH). If the <code class="highlighter-rouge">docker</code> executor is used, this directory needs to be included in its <code class="highlighter-rouge">volumes</code> parameter.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">environment</code></td>
      <td>Append or overwrite environment variables</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">request_concurrency</code></td>
      <td>Limit number of concurrent requests for new jobs from GitLab (default 1)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">output_limit</code></td>
      <td>Set maximum build log size in kilobytes, by default set to 4096 (4MB)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pre_clone_script</code></td>
      <td>Commands to be executed on the Runner before cloning the Git repository. this can be used to adjust the Git client configuration first, for example. To insert multiple commands, use a (triple-quoted) multi-line string or “\n” character.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pre_build_script</code></td>
      <td>Commands to be executed on the Runner after cloning the Git repository, but before executing the build. To insert multiple commands, use a (triple-quoted) multi-line string or “\n” character.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">post_build_script</code></td>
      <td>Commands to be executed on the Runner just after executing the build, but before executing <code class="highlighter-rouge">after_script</code>. To insert multiple commands, use a (triple-quoted) multi-line string or “\n” character.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">clone_url</code></td>
      <td>Overwrite the URL for the GitLab instance. Used if the Runner can’t connect to GitLab on the URL GitLab exposes itself.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">debug_trace_disabled</code></td>
      <td>Disables the <code class="highlighter-rouge">CI_DEBUG_TRACE</code> feature. When set to true, then debug log (trace) will remain disabled even if <code class="highlighter-rouge">CI_DEBUG_TRACE</code> will be set to <code class="highlighter-rouge">true</code> by the user.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[[</span>runners]]
  name <span class="o">=</span> <span class="s2">"ruby-2.1-docker"</span>
  url <span class="o">=</span> <span class="s2">"https://CI/"</span>
  token <span class="o">=</span> <span class="s2">"TOKEN"</span>
  limit <span class="o">=</span> 0
  executor <span class="o">=</span> <span class="s2">"docker"</span>
  builds_dir <span class="o">=</span> <span class="s2">""</span>
  shell <span class="o">=</span> <span class="s2">""</span>
  environment <span class="o">=</span> <span class="o">[</span><span class="s2">"ENV=value"</span>, <span class="s2">"LC_ALL=en_US.UTF-8"</span><span class="o">]</span>
  clone_url <span class="o">=</span> <span class="s2">"http://gitlab.example.local"</span>
</code></pre></div></div>

<h3 id="how-clone_url-works">How <code class="highlighter-rouge">clone_url</code> works<a href="#how-clone_url-works" title="Permalink" class="anchor"></a>
</h3>

<p>In cases where the GitLab instance is exposed to an URL which can’t be used
by the runner, a <code class="highlighter-rouge">clone_url</code> can be configured. For example; GitLab is exposed
to <code class="highlighter-rouge">https://gitlab.example.com</code>, but the runner can’t reach that because of
a firewall setup. If the runner can reach the node on <code class="highlighter-rouge">192.168.1.23</code>,
the <code class="highlighter-rouge">clone_url</code> should be set to <code class="highlighter-rouge">"http://192.168.1.23</code>.</p>

<p>Only if the <code class="highlighter-rouge">clone_url</code> is set, the runner will construct a clone URL in the form
of <code class="highlighter-rouge">http://gitlab-ci-token:s3cr3tt0k3n@192.168.1.23/namespace/project.git</code>.</p>

<h2 id="the-executors">The EXECUTORS<a href="#the-executors" title="Permalink" class="anchor"></a>
</h2>

<p>There are a couple of available executors currently.</p>

<table>
  <thead>
    <tr>
      <th>Executor</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">shell</code></td>
      <td>run build locally, default</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">docker</code></td>
      <td>run build using Docker container. This requires the presence of <code class="highlighter-rouge">[runners.docker]</code> and <a href="https://docs.docker.com/engine/">Docker Engine</a> installed on a system that the Runner will run the job on.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">docker-windows</code></td>
      <td>run build using Windows Docker container. This requires the presence of <code class="highlighter-rouge">[runners.docker]</code> and <a href="https://docs.docker.com/engine/">Docker Engine</a> installed on a Windows system.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">docker-ssh</code></td>
      <td>run build using Docker container, but connect to it with SSH - this requires the presence of <code class="highlighter-rouge">[runners.docker]</code> , <code class="highlighter-rouge">[runners.ssh]</code> and <a href="https://docs.docker.com/engine/">Docker Engine</a> installed on the system that the Runner runs. <strong>Note: This will run the docker container on the local machine, it just changes how the commands are run inside that container. If you want to run docker commands on an external machine, then you should change the <code class="highlighter-rouge">host</code> parameter in the <code class="highlighter-rouge">runners.docker</code> section.</strong>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ssh</code></td>
      <td>run build remotely with SSH - this requires the presence of <code class="highlighter-rouge">[runners.ssh]</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">parallels</code></td>
      <td>run build using Parallels VM, but connect to it with SSH - this requires the presence of <code class="highlighter-rouge">[runners.parallels]</code> and <code class="highlighter-rouge">[runners.ssh]</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">virtualbox</code></td>
      <td>run build using VirtualBox VM, but connect to it with SSH - this requires the presence of <code class="highlighter-rouge">[runners.virtualbox]</code> and <code class="highlighter-rouge">[runners.ssh]</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">docker+machine</code></td>
      <td>like <code class="highlighter-rouge">docker</code>, but uses <a href="autoscale.html">auto-scaled Docker machines</a> - this requires the presence of <code class="highlighter-rouge">[runners.docker]</code> and <code class="highlighter-rouge">[runners.machine]</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">docker-ssh+machine</code></td>
      <td>like <code class="highlighter-rouge">docker-ssh</code>, but uses <a href="autoscale.html">auto-scaled Docker machines</a> - this requires the presence of <code class="highlighter-rouge">[runners.docker]</code> and <code class="highlighter-rouge">[runners.machine]</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">kubernetes</code></td>
      <td>run build using Kubernetes Pods - this requires the presence of <code class="highlighter-rouge">[runners.kubernetes]</code>
</td>
    </tr>
  </tbody>
</table>

<h2 id="the-shells">The SHELLS<a href="#the-shells" title="Permalink" class="anchor"></a>
</h2>

<p>There are a couple of available shells that can be run on different platforms.</p>

<table>
  <thead>
    <tr>
      <th>Shell</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">bash</code></td>
      <td>generate Bash (Bourne-shell) script. All commands executed in Bash context (default for all Unix systems)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">sh</code></td>
      <td>generate Sh (Bourne-shell) script. All commands executed in Sh context (fallback for <code class="highlighter-rouge">bash</code> for all Unix systems)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cmd</code></td>
      <td>generate Windows Batch script. All commands are executed in Batch context (default for Windows)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">powershell</code></td>
      <td>generate Windows PowerShell script. All commands are executed in PowerShell context</td>
    </tr>
  </tbody>
</table>

<h2 id="the-runnersdocker-section">The <code class="highlighter-rouge">[runners.docker]</code> section<a href="#the-runnersdocker-section" title="Permalink" class="anchor"></a>
</h2>

<p>This defines the Docker Container parameters.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">host</code></td>
      <td>Specify custom Docker endpoint, by default <code class="highlighter-rouge">DOCKER_HOST</code> environment is used or <code class="highlighter-rouge">unix:///var/run/docker.sock</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">hostname</code></td>
      <td>Specify custom hostname for Docker container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">runtime</code></td>
      <td>Specify a runtime for Docker container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tls_cert_path</code></td>
      <td>When set it will use <code class="highlighter-rouge">ca.pem</code>, <code class="highlighter-rouge">cert.pem</code> and <code class="highlighter-rouge">key.pem</code> from that folder to make secure TLS connection to Docker (useful in boot2docker)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tls_verify</code></td>
      <td>Enable or disable TLS verification of connections to Docker daemon. Disabled by default.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">image</code></td>
      <td>Use this image to run builds</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">memory</code></td>
      <td>String value containing the memory limit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">memory_swap</code></td>
      <td>String value containing the total memory limit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">memory_reservation</code></td>
      <td>String value containing the memory soft limit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">oom_kill_disable</code></td>
      <td>Do not kill processes in a container if an out-of-memory (OOM) error occurs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cpuset_cpus</code></td>
      <td>String value containing the cgroups CpusetCpus to use</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cpus</code></td>
      <td>String value of number of CPUs (available in docker 1.13 or later)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">dns</code></td>
      <td>A list of DNS servers for the container to use</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">dns_search</code></td>
      <td>A list of DNS search domains</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">privileged</code></td>
      <td>Make container run in Privileged mode (insecure)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">disable_entrypoint_overwrite</code></td>
      <td>Disable the image entrypoint overwriting</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">userns_mode</code></td>
      <td>Sets the usernamespace mode for the container when usernamespace remapping option is enabled. (available in docker 1.10 or later)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cap_add</code></td>
      <td>Add additional Linux capabilities to the container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cap_drop</code></td>
      <td>Drop additional Linux capabilities from the container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">security_opt</code></td>
      <td>Set security options (–security-opt in docker run), takes a list of ‘:’ separated key/values</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">devices</code></td>
      <td>Share additional host devices with the container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cache_dir</code></td>
      <td>Specify where Docker caches should be stored (this can be absolute or relative to current working directory). See <code class="highlighter-rouge">disable_cache</code> for more information.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">disable_cache</code></td>
      <td>The Docker executor has 2 levels of caching: a global one (like any other executor) and a local cache based on Docker volumes. This configuration flag acts only on the local one which disables the use of automatically created (not mapped to a host directory) cache volumes. In other words, it only prevents creating a container that holds temporary files of builds, it does not disable the cache if the Runner is configured in <a href="autoscale.html#distributed-runners-caching">distributed cache mode</a>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">network_mode</code></td>
      <td>Add container to a custom network</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">wait_for_services_timeout</code></td>
      <td>Specify how long to wait for docker services, set to 0 to disable, default: 30</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">volumes</code></td>
      <td>Specify additional volumes that should be mounted (same syntax as Docker’s <code class="highlighter-rouge">-v</code> flag)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">extra_hosts</code></td>
      <td>Specify hosts that should be defined in container environment</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">shm_size</code></td>
      <td>Specify shared memory size for images (in bytes)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">volumes_from</code></td>
      <td>Specify a list of volumes to inherit from another container in the form <code class="highlighter-rouge">\&lt;container name\&gt;[:\&lt;ro&amp;#124;rw\&gt;]</code>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">volume_driver</code></td>
      <td>Specify the volume driver to use for the container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">links</code></td>
      <td>Specify containers which should be linked with building container</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">services</code></td>
      <td>Specify additional services that should be run with build. Please visit <a href="https://hub.docker.com">Docker Registry</a> for list of available applications. Each service will be run in separate container and linked to the build.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">allowed_images</code></td>
      <td>Specify wildcard list of images that can be specified in <code class="highlighter-rouge">.gitlab-ci.yml</code>. If not present all images are allowed (equivalent to <code class="highlighter-rouge">["*/*:*"]</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">allowed_services</code></td>
      <td>Specify wildcard list of services that can be specified in <code class="highlighter-rouge">.gitlab-ci.yml</code>. If not present all images are allowed (equivalent to <code class="highlighter-rouge">["*/*:*"]</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pull_policy</code></td>
      <td>Specify the image pull policy: <code class="highlighter-rouge">never</code>, <code class="highlighter-rouge">if-not-present</code> or <code class="highlighter-rouge">always</code> (default); read more in the <a href="../executors/docker.html#how-pull-policies-work">pull policies documentation</a>
</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">sysctls</code></td>
      <td>specify the sysctl options</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">helper_image</code></td>
      <td>(Advanced) <a href="#helper-image">Override the default helper image</a> used to clone repos and upload artifacts.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.docker]
  host <span class="o">=</span> <span class="s2">""</span>
  <span class="nb">hostname</span> <span class="o">=</span> <span class="s2">""</span>
  tls_cert_path <span class="o">=</span> <span class="s2">"/Users/ayufan/.boot2docker/certs"</span>
  image <span class="o">=</span> <span class="s2">"ruby:2.1"</span>
  memory <span class="o">=</span> <span class="s2">"128m"</span>
  memory_swap <span class="o">=</span> <span class="s2">"256m"</span>
  memory_reservation <span class="o">=</span> <span class="s2">"64m"</span>
  oom_kill_disable <span class="o">=</span> <span class="nb">false
  </span>cpuset_cpus <span class="o">=</span> <span class="s2">"0,1"</span>
  cpus <span class="o">=</span> <span class="s2">"2"</span>
  dns <span class="o">=</span> <span class="o">[</span><span class="s2">"8.8.8.8"</span><span class="o">]</span>
  dns_search <span class="o">=</span> <span class="o">[</span><span class="s2">""</span><span class="o">]</span>
  privileged <span class="o">=</span> <span class="nb">false
  </span>userns_mode <span class="o">=</span> <span class="s2">"host"</span>
  cap_add <span class="o">=</span> <span class="o">[</span><span class="s2">"NET_ADMIN"</span><span class="o">]</span>
  cap_drop <span class="o">=</span> <span class="o">[</span><span class="s2">"DAC_OVERRIDE"</span><span class="o">]</span>
  devices <span class="o">=</span> <span class="o">[</span><span class="s2">"/dev/net/tun"</span><span class="o">]</span>
  disable_cache <span class="o">=</span> <span class="nb">false
  </span>wait_for_services_timeout <span class="o">=</span> 30
  cache_dir <span class="o">=</span> <span class="s2">""</span>
  volumes <span class="o">=</span> <span class="o">[</span><span class="s2">"/data"</span>, <span class="s2">"/home/project/cache"</span><span class="o">]</span>
  extra_hosts <span class="o">=</span> <span class="o">[</span><span class="s2">"other-host:127.0.0.1"</span><span class="o">]</span>
  shm_size <span class="o">=</span> 300000
  volumes_from <span class="o">=</span> <span class="o">[</span><span class="s2">"storage_container:ro"</span><span class="o">]</span>
  links <span class="o">=</span> <span class="o">[</span><span class="s2">"mysql_container:mysql"</span><span class="o">]</span>
  services <span class="o">=</span> <span class="o">[</span><span class="s2">"mysql"</span>, <span class="s2">"redis:2.8"</span>, <span class="s2">"postgres:9"</span><span class="o">]</span>
  allowed_images <span class="o">=</span> <span class="o">[</span><span class="s2">"ruby:*"</span>, <span class="s2">"python:*"</span>, <span class="s2">"php:*"</span><span class="o">]</span>
  allowed_services <span class="o">=</span> <span class="o">[</span><span class="s2">"postgres:9.4"</span>, <span class="s2">"postgres:latest"</span><span class="o">]</span>
  <span class="o">[</span>runners.docker.sysctls]
    <span class="s2">"net.ipv4.ip_forward"</span> <span class="o">=</span> <span class="s2">"1"</span>
</code></pre></div></div>

<h3 id="volumes-in-the-runnersdocker-section">Volumes in the <code class="highlighter-rouge">[runners.docker]</code> section<a href="#volumes-in-the-runnersdocker-section" title="Permalink" class="anchor"></a>
</h3>

<p>You can find the complete guide of Docker volume usage
<a href="https://docs.docker.com/userguide/dockervolumes/">here</a>.</p>

<p>Let’s use some examples to explain how it work (assuming you have a working
runner).</p>

<h4 id="example-1-adding-a-data-volume">Example 1: adding a data volume<a href="#example-1-adding-a-data-volume" title="Permalink" class="anchor"></a>
</h4>

<p>A data volume is a specially-designated directory within one or more containers
that bypasses the Union File System. Data volumes are designed to persist data,
independent of the container’s life cycle.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.docker]
  host <span class="o">=</span> <span class="s2">""</span>
  <span class="nb">hostname</span> <span class="o">=</span> <span class="s2">""</span>
  tls_cert_path <span class="o">=</span> <span class="s2">"/Users/ayufan/.boot2docker/certs"</span>
  image <span class="o">=</span> <span class="s2">"ruby:2.1"</span>
  privileged <span class="o">=</span> <span class="nb">false
  </span>disable_cache <span class="o">=</span> <span class="nb">true
  </span>volumes <span class="o">=</span> <span class="o">[</span><span class="s2">"/path/to/volume/in/container"</span><span class="o">]</span>
</code></pre></div></div>

<p>This will create a new volume inside the container at <code class="highlighter-rouge">/path/to/volume/in/container</code>.</p>

<h4 id="example-2-mount-a-host-directory-as-a-data-volume">Example 2: mount a host directory as a data volume<a href="#example-2-mount-a-host-directory-as-a-data-volume" title="Permalink" class="anchor"></a>
</h4>

<p>In addition to creating a volume using a data volume, you can also mount
a directory from your Docker daemon’s host into a container. It’s useful
when you want to store directories outside the container.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.docker]
  host <span class="o">=</span> <span class="s2">""</span>
  <span class="nb">hostname</span> <span class="o">=</span> <span class="s2">""</span>
  tls_cert_path <span class="o">=</span> <span class="s2">"/Users/ayufan/.boot2docker/certs"</span>
  image <span class="o">=</span> <span class="s2">"ruby:2.1"</span>
  privileged <span class="o">=</span> <span class="nb">false
  </span>disable_cache <span class="o">=</span> <span class="nb">true
  </span>volumes <span class="o">=</span> <span class="o">[</span><span class="s2">"/path/to/bind/from/host:/path/to/bind/in/container:rw"</span><span class="o">]</span>
</code></pre></div></div>

<p>This will use <code class="highlighter-rouge">/path/to/bind/from/host</code> of the CI host inside the container at
<code class="highlighter-rouge">/path/to/bind/in/container</code>.</p>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
GitLab Runner 11.11 and newer <a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/1261">will mount the host
directory</a>
for the defined <a href="https://docs.gitlab.com/ee/ci/services/">services</a> as
well.</div></div>

<h3 id="using-a-private-container-registry">Using a private container registry<a href="#using-a-private-container-registry" title="Permalink" class="anchor"></a>
</h3>

<blockquote>
  <p><strong>Notes:</strong></p>

  <ul>
    <li>This feature requires GitLab Runner <strong>1.8</strong> or higher</li>
    <li>For GitLab Runner versions <strong>&gt;= 0.6, &lt;1.8</strong> there was a partial
 support for using private registries, which required manual configuration
 of credentials on runner’s host. We recommend to upgrade your Runner to
 at least version <strong>1.8</strong> if you want to use private registries.</li>
    <li>Using private registries with the <code class="highlighter-rouge">if-not-present</code> pull policy may introduce
 <a href="../security/index.html#usage-of-private-docker-images-with-if-not-present-pull-policy">security implications</a>. To fully understand how pull policies work,
 read the <a href="../executors/docker.html#how-pull-policies-work">pull policies documentation</a>.</li>
  </ul>
</blockquote>

<p>If you want to use private registries as a source of images for your builds,
you can set the authorization configuration in the <code class="highlighter-rouge">DOCKER_AUTH_CONFIG</code>
<a href="https://docs.gitlab.com/ee/ci/variables/#variables">variable</a>. It can be set in both GitLab Variables section of
a project and in the <code class="highlighter-rouge">config.toml</code> file.</p>

<p>For a detailed example, visit the <a href="https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#define-an-image-from-a-private-container-registry">Using Docker images documentation</a>.</p>

<p>The steps performed by the Runner can be summed up to:</p>

<ol>
  <li>The registry name is found from the image name.</li>
  <li>If the value is not empty, the executor will search for the authentication
configuration for this registry.</li>
  <li>Finally, if an authentication corresponding to the specified registry is
found, subsequent pulls will make use of it.</li>
</ol>

<p>Now that the Runner is set up to authenticate against your private registry,
learn <a href="https://docs.gitlab.com/ee/ci/yaml/README.html#image-and-services">how to configure <code class="highlighter-rouge">.gitlab-ci.yml</code></a> in order to use that
registry.</p>

<h4 id="support-for-gitlab-integrated-registry">Support for GitLab integrated registry<a href="#support-for-gitlab-integrated-registry" title="Permalink" class="anchor"></a>
</h4>

<blockquote>
  <p><strong>Note:</strong>
To work automatically with private/protected images from
GitLab integrated registry it needs at least GitLab CE/EE <strong>8.14</strong>
and GitLab Runner <strong>1.8</strong>.</p>
</blockquote>

<p>Starting with GitLab CE/EE 8.14, GitLab will send credentials for its integrated
registry along with the build data. These credentials will be automatically
added to registries authorization parameters list.</p>

<p>After this authorization against the registry will be proceed like for
configuration added with <code class="highlighter-rouge">DOCKER_AUTH_CONFIG</code> variable.</p>

<p>Thanks to this, in your builds you can use any image from you GitLab integrated
registry, even if the image is private/protected. To fully understand for
which images the builds will have access, read the
<a href="https://docs.gitlab.com/ee/user/project/new_ci_build_permissions_model.html">New CI build permissions model</a> documentation.</p>

<h4 id="precedence-of-docker-authorization-resolving">Precedence of Docker authorization resolving<a href="#precedence-of-docker-authorization-resolving" title="Permalink" class="anchor"></a>
</h4>

<p>As described above, GitLab Runner can authorize Docker against a registry by
using credentials sent in different way. To find a proper registry, the following
precedence is taken into account:</p>

<ol>
  <li>Credentials configured with <code class="highlighter-rouge">DOCKER_AUTH_CONFIG</code>.</li>
  <li>Credentials configured locally on Runner’s host with <code class="highlighter-rouge">~/.docker/config.json</code>
or <code class="highlighter-rouge">~/.dockercfg</code> files (e.g., by running <code class="highlighter-rouge">docker login</code> on the host).</li>
  <li>Credentials sent by default with job’s payload (e.g., credentials for <em>integrated
registry</em> described above).</li>
</ol>

<p>The first found credentials for the registry will be used. So for example,
if you add some credentials for the <em>integrated registry</em> with the
<code class="highlighter-rouge">DOCKER_AUTH_CONFIG</code> variable, then the default credentials will be overridden.</p>

<h4 id="restrict-allowed_images-to-private-registry">Restrict <code class="highlighter-rouge">allowed_images</code> to private registry<a href="#restrict-allowed_images-to-private-registry" title="Permalink" class="anchor"></a>
</h4>

<p>For certain setups you will restrict access of the build jobs to docker images
which comes from your private docker registry. In that case set</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.docker]
  ...
  allowed_images <span class="o">=</span> <span class="o">[</span><span class="s2">"my.registry.tld:5000/*:*"</span><span class="o">]</span>
</code></pre></div></div>

<h2 id="the-runnersparallels-section">The <code class="highlighter-rouge">[runners.parallels]</code> section<a href="#the-runnersparallels-section" title="Permalink" class="anchor"></a>
</h2>

<p>This defines the Parallels parameters.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">base_name</code></td>
      <td>name of Parallels VM which will be cloned</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">template_name</code></td>
      <td>custom name of Parallels VM linked template (optional)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">disable_snapshots</code></td>
      <td>if disabled the VMs will be destroyed after build</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.parallels]
  base_name <span class="o">=</span> <span class="s2">"my-parallels-image"</span>
  template_name <span class="o">=</span> <span class="s2">""</span>
  disable_snapshots <span class="o">=</span> <span class="nb">false</span>
</code></pre></div></div>

<h2 id="the-runnersvirtualbox-section">The <code class="highlighter-rouge">[runners.virtualbox]</code> section<a href="#the-runnersvirtualbox-section" title="Permalink" class="anchor"></a>
</h2>

<p>This defines the VirtualBox parameters. This executor relies on
<code class="highlighter-rouge">vboxmanage</code> as executable to control VirtualBox machines so you have to adjust
your <code class="highlighter-rouge">PATH</code> environment variable on Windows hosts:
<code class="highlighter-rouge">PATH=%PATH%;C:\Program Files\Oracle\VirtualBox</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">base_name</code></td>
      <td>name of VirtualBox VM which will be cloned</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">base_snapshot</code></td>
      <td>name or UUID of a specific snapshot of the VM from which to create a linked clone. If this is empty or omitted, the current snapshot will be used. If there is no current snapshot, one will be created unless <code class="highlighter-rouge">disable_snapshots</code> is true, in which case a full clone of the base VM will be made.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">disable_snapshots</code></td>
      <td>if disabled the VMs will be destroyed after build</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.virtualbox]
  base_name <span class="o">=</span> <span class="s2">"my-virtualbox-image"</span>
  base_snapshot <span class="o">=</span> <span class="s2">"my-image-snapshot"</span>
  disable_snapshots <span class="o">=</span> <span class="nb">false</span>
</code></pre></div></div>

<h2 id="the-runnersssh-section">The <code class="highlighter-rouge">[runners.ssh]</code> section<a href="#the-runnersssh-section" title="Permalink" class="anchor"></a>
</h2>

<p>This defines the SSH connection parameters.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">host</code></td>
      <td>where to connect (overridden when using <code class="highlighter-rouge">docker-ssh</code>)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">port</code></td>
      <td>specify port, default: 22</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">user</code></td>
      <td>specify user</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">password</code></td>
      <td>specify password</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">identity_file</code></td>
      <td>specify file path to SSH private key (id_rsa, id_dsa or id_edcsa). The file needs to be stored unencrypted</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[runners.ssh]
  host = "my-production-server"
  port = "22"
  user = "root"
  password = "production-server-password"
  identity_file = ""
</code></pre></div></div>

<h2 id="the-runnersmachine-section">The <code class="highlighter-rouge">[runners.machine]</code> section<a href="#the-runnersmachine-section" title="Permalink" class="anchor"></a>
</h2>

<blockquote>
  <p>Added in GitLab Runner v1.1.0.</p>
</blockquote>

<p>This defines the Docker Machine based autoscaling feature. More details can be
found in the separate <a href="autoscale.html">runners autoscale documentation</a>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">IdleCount</code></td>
      <td>Number of machines, that need to be created and waiting in <em>Idle</em> state.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IdleTime</code></td>
      <td>Time (in seconds) for machine to be in <em>Idle</em> state before it is removed.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OffPeakPeriods</code></td>
      <td>Time periods when the scheduler is in the OffPeak mode. An array of cron-style patterns (described below).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OffPeakTimezone</code></td>
      <td>Timezone for the times given in OffPeakPeriods. A timezone string like <code class="highlighter-rouge">Europe/Berlin</code>. Defaults to the locale system setting of the host if omitted or empty. GitLab Runner attempts to locate the timezone database in the directory or uncompressed zip file named by the <code class="highlighter-rouge">ZONEINFO</code> environment variable, then looks in known installation locations on Unix systems, and finally looks in <code class="highlighter-rouge">$GOROOT/lib/time/zoneinfo.zip</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OffPeakIdleCount</code></td>
      <td>Like <code class="highlighter-rouge">IdleCount</code>, but for <em>Off Peak</em> time periods.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OffPeakIdleTime</code></td>
      <td>Like <code class="highlighter-rouge">IdleTime</code>, but for <em>Off Peak</em> time mperiods.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MaxBuilds</code></td>
      <td>Builds count after which machine will be removed.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MachineName</code></td>
      <td>Name of the machine. It <strong>must</strong> contain <code class="highlighter-rouge">%s</code>, which will be replaced with a unique machine identifier.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MachineDriver</code></td>
      <td>Docker Machine <code class="highlighter-rouge">driver</code> to use. More details can be found in the <a href="autoscale.html#supported-cloud-providers">Docker Machine configuration section</a>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MachineOptions</code></td>
      <td>Docker Machine options. More details can be found in the <a href="autoscale.html#supported-cloud-providers">Docker Machine configuration section</a>.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.machine]
  IdleCount <span class="o">=</span> 5
  IdleTime <span class="o">=</span> 600
  OffPeakPeriods <span class="o">=</span> <span class="o">[</span>
    <span class="s2">"* * 0-10,18-23 * * mon-fri *"</span>,
    <span class="s2">"* * * * * sat,sun *"</span>
  <span class="o">]</span>
  OffPeakTimezone <span class="o">=</span> <span class="s2">"Europe/Berlin"</span>
  OffPeakIdleCount <span class="o">=</span> 1
  OffPeakIdleTime <span class="o">=</span> 3600
  MaxBuilds <span class="o">=</span> 100
  MachineName <span class="o">=</span> <span class="s2">"auto-scale-%s"</span>
  MachineDriver <span class="o">=</span> <span class="s2">"digitalocean"</span>
  MachineOptions <span class="o">=</span> <span class="o">[</span>
      <span class="s2">"digitalocean-image=coreos-stable"</span>,
      <span class="s2">"digitalocean-ssh-user=core"</span>,
      <span class="s2">"digitalocean-access-token=DO_ACCESS_TOKEN"</span>,
      <span class="s2">"digitalocean-region=nyc2"</span>,
      <span class="s2">"digitalocean-size=4gb"</span>,
      <span class="s2">"digitalocean-private-networking"</span>,
      <span class="s2">"engine-registry-mirror=http://10.11.12.13:12345"</span>
  <span class="o">]</span>
</code></pre></div></div>

<h3 id="offpeakperiods-syntax">OffPeakPeriods syntax<a href="#offpeakperiods-syntax" title="Permalink" class="anchor"></a>
</h3>

<p>The <code class="highlighter-rouge">OffPeakPeriods</code> setting contains an array of string patterns of
time periods represented in a cron-style format. The line contains
following fields:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[second] [minute] [hour] [day of month] [month] [day of week] [year]
</code></pre></div></div>

<p>Like in the standard cron configuration file, the fields can contain single
values, ranges, lists and asterisks. A detailed description of the syntax
can be found <a href="https://github.com/gorhill/cronexpr#implementation">here</a>.</p>

<h2 id="the-runnerscustom-section">The <code class="highlighter-rouge">[runners.custom]</code> section<a href="#the-runnerscustom-section" title="Permalink" class="anchor"></a>
</h2>

<p>Define configuration for the <a href="../executors/custom.html">custom
executor</a>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">config_exec</code></td>
      <td>string</td>
      <td>✗</td>
      <td>Path to an executable to allow the user to override some configuration settings before the build starts. These values will override the ones set inside of the <a href="#the-runners-section"><code class="highlighter-rouge">[[runners]]</code></a> section. <a href="../executors/custom.html#config">The custom executor documentation</a> has the full list.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config_args</code></td>
      <td>string array</td>
      <td>✗</td>
      <td>First set of arguments passed to the <code class="highlighter-rouge">config_exec</code> executable.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config_exec_timeout</code></td>
      <td>integer</td>
      <td>✗</td>
      <td>Timeout in seconds for <code class="highlighter-rouge">config_exec</code> to finish execution. Default to 1 hour.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">prepare_exec</code></td>
      <td>string</td>
      <td>✗</td>
      <td>Path to an executable to prepare the environment.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">prepare_args</code></td>
      <td>string array</td>
      <td>✗</td>
      <td>First set of arguments passed to the <code class="highlighter-rouge">prepare_exec</code> executable.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">prepare_exec_timeout</code></td>
      <td>integer</td>
      <td>✗</td>
      <td>Timeout in seconds for <code class="highlighter-rouge">prepare_exec</code> to finish execution. Default to 1 hour.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">run_exec</code></td>
      <td>string</td>
      <td>✓</td>
      <td>Path to an executable to run scripts in the environments. For example, the clone and build script.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">run_args</code></td>
      <td>string array</td>
      <td>✗</td>
      <td>First set of arguments passed to the <code class="highlighter-rouge">run_exec</code> executable.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cleanup_exec</code></td>
      <td>string</td>
      <td>✗</td>
      <td>Path to an executable to clean up the environment.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cleanup_args</code></td>
      <td>string array</td>
      <td>✗</td>
      <td>First set of arguments passed to the <code class="highlighter-rouge">cleanup_exec</code> executable.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cleanup_exec_timeout</code></td>
      <td>integer</td>
      <td>✗</td>
      <td>Timeout in seconds for <code class="highlighter-rouge">cleanup_exec</code> to finish execution. Default to 1 hour.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">graceful_kill_timeout</code></td>
      <td>integer</td>
      <td>✗</td>
      <td>Time to wait in seconds for <code class="highlighter-rouge">prepare_exec</code> and <code class="highlighter-rouge">cleanup_exec</code> if they are terminated (for example, during build cancellation). After this timeout, the process is killed. Defaults to 10 minutes.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">force_kill_timeout</code></td>
      <td>integer</td>
      <td>✗</td>
      <td>Time to wait in seconds after the kill signal is sent to the script. Defaults to 10 minutes.</td>
    </tr>
  </tbody>
</table>

<h2 id="the-runnerscache-section">The <code class="highlighter-rouge">[runners.cache]</code> section<a href="#the-runnerscache-section" title="Permalink" class="anchor"></a>
</h2>

<div class="introduced-in">
  <p>Introduced in GitLab Runner 1.1.0.</p>
</div>

<p>This defines the distributed cache feature. More details can be found
in the <a href="autoscale.html#distributed-runners-caching">runners autoscale documentation</a>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>string</td>
      <td>One of: <code class="highlighter-rouge">s3</code>, <code class="highlighter-rouge">gcs</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Path</code></td>
      <td>string</td>
      <td>Name of the path to prepend to the cache URL.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Shared</code></td>
      <td>boolean</td>
      <td>Enables cache sharing between runners, <code class="highlighter-rouge">false</code> by default.</td>
    </tr>
  </tbody>
</table>

<div class="admonition-wrapper caution"><div class="admonition alert alert-warning">
<i class="fa fa-exclamation-triangle fa-fw" aria-hidden="true"></i><strong>Important:</strong>
With GitLab Runner 11.3.0, the configuration parameters related to S3 were moved to a dedicated <code class="highlighter-rouge">[runners.cache.s3]</code> section.
The old format of the configuration with S3 configured directly in <code class="highlighter-rouge">[runners.cache]</code> was deprecated with GitLab Runner 11.3.0.
<strong>With GitLab Runner 12.0.0 the old configuration syntax was removed and is no longer supported</strong>.</div></div>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
The cache mechanism uses pre-signed URLs to upload and download cache. URLs are being signed by GitLab Runner on its <strong>own instance</strong>.
No matter if the job’s script - so also the cache upload/download script - are being executed on local or external
machines (e.g. <code class="highlighter-rouge">shell</code> or <code class="highlighter-rouge">docker</code> executors are running their scripts on the same
machine where GitLab Runner process is running, while <code class="highlighter-rouge">virtualbox</code> or <code class="highlighter-rouge">docker+machine</code>
connects to a separate VM to execute the script). This is done for security reasons:
minimizing the possibility of leaking the cache adapter’s credentials.</div></div>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
Previous note implies <a href="#the-runnerscaches3-section">S3 cache adapter</a>, if configured to use
IAM instance profile, will use the profile attached with GitLab Runner’s machine.
Similarly for <a href="#the-runnerscachegcs-section">GCS cache adapter</a>, if configured to
use the <code class="highlighter-rouge">CredentialsFile</code>, the file needs to be present on GitLab Runner’s machine.</div></div>

<p>Below is a table containing a summary of <code class="highlighter-rouge">config.toml</code>, cli options and ENV variables for <code class="highlighter-rouge">register</code>:</p>

<table>
  <thead>
    <tr>
      <th>Setting</th>
      <th>TOML field</th>
      <th>CLI option for <code class="highlighter-rouge">register</code>
</th>
      <th>ENV for <code class="highlighter-rouge">register</code>
</th>
      <th>Before 12.0.0 TOML field</th>
      <th>Before 12.0.0 CLI option</th>
      <th>Before 12.0.0 ENV</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Type</td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; Type</code></td>
      <td><code class="highlighter-rouge">--cache-type</code></td>
      <td><code class="highlighter-rouge">$CACHE_TYPE</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Path</td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; Path</code></td>
      <td><code class="highlighter-rouge">--cache-path</code></td>
      <td><code class="highlighter-rouge">$CACHE_PATH</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">--cache-s3-cache-path</code></td>
      <td><code class="highlighter-rouge">$S3_CACHE_PATH</code></td>
    </tr>
    <tr>
      <td>Shared</td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; Shared</code></td>
      <td><code class="highlighter-rouge">--cache-shared</code></td>
      <td><code class="highlighter-rouge">$CACHE_SHARED</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">--cache-cache-shared</code></td>
      <td> </td>
    </tr>
    <tr>
      <td>S3.ServerAddress</td>
      <td><code class="highlighter-rouge">[runners.cache.s3] -&gt; ServerAddress</code></td>
      <td><code class="highlighter-rouge">--cache-s3-server-address</code></td>
      <td><code class="highlighter-rouge">$CACHE_S3_SERVER_ADDRESS</code></td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; ServerAddress</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">$S3_SERVER_ADDRESS</code></td>
    </tr>
    <tr>
      <td>S3.AccessKey</td>
      <td><code class="highlighter-rouge">[runners.cache.s3] -&gt; AccessKey</code></td>
      <td><code class="highlighter-rouge">--cache-s3-access-key</code></td>
      <td><code class="highlighter-rouge">$CACHE_S3_ACCESS_KEY</code></td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; AccessKey</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">$S3_ACCESS_KEY</code></td>
    </tr>
    <tr>
      <td>S3.SecretKey</td>
      <td><code class="highlighter-rouge">[runners.cache.s3] -&gt; SecretKey</code></td>
      <td><code class="highlighter-rouge">--cache-s3-secret-key</code></td>
      <td><code class="highlighter-rouge">$CACHE_S3_SECRET_KEY</code></td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; SecretKey</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">$S3_SECRET_KEY</code></td>
    </tr>
    <tr>
      <td>S3.BucketName</td>
      <td><code class="highlighter-rouge">[runners.cache.s3] -&gt; BucketName</code></td>
      <td><code class="highlighter-rouge">--cache-s3-bucket-name</code></td>
      <td><code class="highlighter-rouge">$CACHE_S3_BUCKET_NAME</code></td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; BucketName</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">$S3_BUCKET_NAME</code></td>
    </tr>
    <tr>
      <td>S3.BucketLocation</td>
      <td><code class="highlighter-rouge">[runners.cache.s3] -&gt; BucketLocation</code></td>
      <td><code class="highlighter-rouge">--cache-s3-bucket-location</code></td>
      <td><code class="highlighter-rouge">$CACHE_S3_BUCKET_LOCATION</code></td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; BucketLocation</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">$S3_BUCKET_LOCATION</code></td>
    </tr>
    <tr>
      <td>S3.Insecure</td>
      <td><code class="highlighter-rouge">[runners.cache.s3] -&gt; Insecure</code></td>
      <td><code class="highlighter-rouge">--cache-s3-insecure</code></td>
      <td><code class="highlighter-rouge">$CACHE_S3_INSECURE</code></td>
      <td><code class="highlighter-rouge">[runners.cache] -&gt; Insecure</code></td>
      <td> </td>
      <td><code class="highlighter-rouge">$S3_INSECURE</code></td>
    </tr>
    <tr>
      <td>GCS.AccessID</td>
      <td><code class="highlighter-rouge">[runners.cache.gcs] -&gt; AccessID</code></td>
      <td><code class="highlighter-rouge">--cache-gcs-access-id</code></td>
      <td><code class="highlighter-rouge">$CACHE_GCS_ACCESS_ID</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>GCS.PrivateKey</td>
      <td><code class="highlighter-rouge">[runners.cache.gcs] -&gt; PrivateKey</code></td>
      <td><code class="highlighter-rouge">--cache-gcs-private-key</code></td>
      <td><code class="highlighter-rouge">$CACHE_GCS_PRIVATE_KEY</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>GCS.CredentialsFile</td>
      <td><code class="highlighter-rouge">[runners.cache.gcs] -&gt; CredentialsFile</code></td>
      <td><code class="highlighter-rouge">--cache-gcs-credentials-file</code></td>
      <td><code class="highlighter-rouge">$GOOGLE_APPLICATION_CREDENTIALS</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>GCS.BucketName</td>
      <td><code class="highlighter-rouge">[runners.cache.gcs] -&gt; BucketName</code></td>
      <td><code class="highlighter-rouge">--cache-gcs-bucket-name</code></td>
      <td><code class="highlighter-rouge">$CACHE_GCS_BUCKET_NAME</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="the-runnerscaches3-section">The <code class="highlighter-rouge">[runners.cache.s3]</code> section<a href="#the-runnerscaches3-section" title="Permalink" class="anchor"></a>
</h3>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
Moved from the <code class="highlighter-rouge">[runners.cache]</code> section in GitLab Runner 11.3.0.</div></div>

<p>Allows to configure S3 storage for cache. This section contains settings related to S3, that previously were
present globally in the <code class="highlighter-rouge">[runners.cache]</code> section.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ServerAddress</code></td>
      <td>string</td>
      <td>A <code class="highlighter-rouge">host:port</code> to the used S3-compatible server.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AccessKey</code></td>
      <td>string</td>
      <td>The access key specified for your S3 instance.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SecretKey</code></td>
      <td>string</td>
      <td>The secret key specified for your S3 instance.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BucketName</code></td>
      <td>string</td>
      <td>Name of the storage bucket where cache will be stored.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BucketLocation</code></td>
      <td>string</td>
      <td>Name of S3 region.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Insecure</code></td>
      <td>boolean</td>
      <td>Set to <code class="highlighter-rouge">true</code> if the S3 service is available by <code class="highlighter-rouge">HTTP</code>. Set to <code class="highlighter-rouge">false</code> by default.</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[runners.cache]</span>
  <span class="py">Type</span> <span class="p">=</span> <span class="s">"s3"</span>
  <span class="py">Path</span> <span class="p">=</span> <span class="s">"path/to/prefix"</span>
  <span class="py">Shared</span> <span class="p">=</span> <span class="kc">false</span>
  <span class="nn">[runners.cache.s3]</span>
    <span class="py">ServerAddress</span> <span class="p">=</span> <span class="s">"s3.amazonaws.com"</span>
    <span class="py">AccessKey</span> <span class="p">=</span> <span class="s">"AMAZON_S3_ACCESS_KEY"</span>
    <span class="py">SecretKey</span> <span class="p">=</span> <span class="s">"AMAZON_S3_SECRET_KEY"</span>
    <span class="py">BucketName</span> <span class="p">=</span> <span class="s">"runners-cache"</span>
    <span class="py">BucketLocation</span> <span class="p">=</span> <span class="s">"eu-west-1"</span>
    <span class="py">Insecure</span> <span class="p">=</span> <span class="kc">false</span>
</code></pre></div></div>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
For Amazon’s S3 service, the <code class="highlighter-rouge">ServerAddress</code> should always be <code class="highlighter-rouge">s3.amazonaws.com</code>. The Minio S3 client will
get bucket metadata and modify the URL to point to the valid region (eg. <code class="highlighter-rouge">s3-eu-west-1.amazonaws.com</code>) itself.</div></div>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
If any of <code class="highlighter-rouge">ServerAddress</code>, <code class="highlighter-rouge">AccessKey</code> or <code class="highlighter-rouge">SecretKey</code> aren’t specified, then the S3 client will use the
IAM instance profile available to the <code class="highlighter-rouge">gitlab-runner</code> instance. In an
<a href="autoscale.html">autoscale</a> configuration, this is <em>NOT</em> the machine created on
demand that jobs are executed on.</div></div>

<h3 id="the-runnerscachegcs-section">The <code class="highlighter-rouge">[runners.cache.gcs]</code> section<a href="#the-runnerscachegcs-section" title="Permalink" class="anchor"></a>
</h3>

<div class="introduced-in">
  <p>Introduced in GitLab Runner 11.3.0.</p>
</div>

<p>Configure native support for Google Cloud Storage. Read the
<a href="https://cloud.google.com/storage/docs/authentication#service_accounts">Google Cloud Storage Authentication documentation</a>
to check where these values come from.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">CredentialsFile</code></td>
      <td>string</td>
      <td>Path to the Google JSON key file. Currently only the <code class="highlighter-rouge">service_account</code> type is supported. If configured, takes precedence over <code class="highlighter-rouge">AccessID</code> and <code class="highlighter-rouge">PrivateKey</code> configured directly in <code class="highlighter-rouge">config.toml</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AccessID</code></td>
      <td>string</td>
      <td>ID of GCP Service Account used to access the storage.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PrivateKey</code></td>
      <td>string</td>
      <td>Private key used to sign GCS requests.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BucketName</code></td>
      <td>string</td>
      <td>Name of the storage bucket where cache will be stored.</td>
    </tr>
  </tbody>
</table>

<p>Examples:</p>

<p><strong>Credentials configured directly in <code class="highlighter-rouge">config.toml</code> file:</strong></p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[runners.cache]</span>
  <span class="py">Type</span> <span class="p">=</span> <span class="s">"gcs"</span>
  <span class="py">Path</span> <span class="p">=</span> <span class="s">"path/to/prefix"</span>
  <span class="py">Shared</span> <span class="p">=</span> <span class="kc">false</span>
  <span class="nn">[runners.cache.gcs]</span>
    <span class="py">AccessID</span> <span class="p">=</span> <span class="s">"cache-access-account@test-project-123456.iam.gserviceaccount.com"</span>
    <span class="py">PrivateKey</span> <span class="p">=</span> <span class="s">"-----BEGIN PRIVATE KEY-----</span><span class="se">\n</span><span class="s">XXXXXX</span><span class="se">\n</span><span class="s">-----END PRIVATE KEY-----</span><span class="se">\n</span><span class="s">"</span>
    <span class="py">BucketName</span> <span class="p">=</span> <span class="s">"runners-cache"</span>
</code></pre></div></div>

<p><strong>Credentials in JSON file downloaded from GCP:</strong></p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[runners.cache]</span>
  <span class="py">Type</span> <span class="p">=</span> <span class="s">"gcs"</span>
  <span class="py">Path</span> <span class="p">=</span> <span class="s">"path/to/prefix"</span>
  <span class="py">Shared</span> <span class="p">=</span> <span class="kc">false</span>
  <span class="nn">[runners.cache.gcs]</span>
    <span class="py">CredentialsFile</span> <span class="p">=</span> <span class="s">"/etc/gitlab-runner/service-account.json"</span>
    <span class="py">BucketName</span> <span class="p">=</span> <span class="s">"runners-cache"</span>
</code></pre></div></div>

<h2 id="the-runnerskubernetes-section">The <code class="highlighter-rouge">[runners.kubernetes]</code> section<a href="#the-runnerskubernetes-section" title="Permalink" class="anchor"></a>
</h2>

<blockquote>
  <p>Added in GitLab Runner v1.6.0</p>
</blockquote>

<p>This defines the Kubernetes parameters.
See <a href="../executors/kubernetes.html">Kubernetes executor</a> for additional parameters.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">host</code></td>
      <td>string</td>
      <td>Optional Kubernetes master host URL (auto-discovery attempted if not specified)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">cert_file</code></td>
      <td>string</td>
      <td>Optional Kubernetes master auth certificate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">key_file</code></td>
      <td>string</td>
      <td>Optional Kubernetes master auth private key</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ca_file</code></td>
      <td>string</td>
      <td>Optional Kubernetes master auth ca certificate</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">image</code></td>
      <td>string</td>
      <td>Default docker image to use for builds when none is specified</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">namespace</code></td>
      <td>string</td>
      <td>Namespace to run Kubernetes jobs in</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">privileged</code></td>
      <td>boolean</td>
      <td>Run all containers with the privileged flag enabled</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">node_selector</code></td>
      <td>table</td>
      <td>A <code class="highlighter-rouge">table</code> of <code class="highlighter-rouge">key=value</code> pairs of <code class="highlighter-rouge">string=string</code>. Setting this limits the creation of pods to Kubernetes nodes matching all the <code class="highlighter-rouge">key=value</code> pairs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">image_pull_secrets</code></td>
      <td>array</td>
      <td>A list of secrets that are used to authenticate docker image pulling</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.kubernetes]
  host <span class="o">=</span> <span class="s2">"https://45.67.34.123:4892"</span>
  cert_file <span class="o">=</span> <span class="s2">"/etc/ssl/kubernetes/api.crt"</span>
  key_file <span class="o">=</span> <span class="s2">"/etc/ssl/kubernetes/api.key"</span>
  ca_file <span class="o">=</span> <span class="s2">"/etc/ssl/kubernetes/ca.crt"</span>
  image <span class="o">=</span> <span class="s2">"golang:1.8"</span>
  privileged <span class="o">=</span> <span class="nb">true
  </span>image_pull_secrets <span class="o">=</span> <span class="o">[</span><span class="s2">"docker-registry-credentials"</span><span class="o">]</span>
  <span class="o">[</span>runners.kubernetes.node_selector]
    gitlab <span class="o">=</span> <span class="s2">"true"</span>
</code></pre></div></div>

<h2 id="helper-image">Helper image<a href="#helper-image" title="Permalink" class="anchor"></a>
</h2>

<p>When one of <code class="highlighter-rouge">docker</code>, <code class="highlighter-rouge">docker+machine</code> or <code class="highlighter-rouge">kubernetes</code> executors is used, GitLab Runner uses a specific container
to handle Git, artifacts and cache operations. This container is created from a special image, named <code class="highlighter-rouge">helper image</code>.</p>

<p>The helper image is based on Alpine Linux and it’s provided for amd64 and arm architectures. It contains
a <code class="highlighter-rouge">gitlab-runner-helper</code> binary which is a special compilation of GitLab Runner binary, that contains only a subset
of available commands, as well as Git, Git LFS, SSL certificates store and basic configuration of Alpine.</p>

<p>When GitLab Runner is installed from the DEB/RPM packages, both images (<code class="highlighter-rouge">amd64</code> and <code class="highlighter-rouge">arm</code> based) are installed on the host.
When the Runner prepares the environment for the job execution, if the image in specified version (based on Runner’s Git
revision) is not found on Docker Engine, it is automatically loaded. It works like that for both
<code class="highlighter-rouge">docker</code> and <code class="highlighter-rouge">docker+machine</code> executors.</p>

<p>Things work a little different for the <code class="highlighter-rouge">kubernetes</code> executor or when GitLab Runner is installed manually. For manual
installations, the <code class="highlighter-rouge">gitlab-runner-helper</code> binary is not included and for the <code class="highlighter-rouge">kubernetes</code> executor,the API of Kubernetes
doesn’t allow to load the <code class="highlighter-rouge">gitlab-runner-helper</code> image from a local archive. In both cases, GitLab Runner will download
the helper image from Docker Hub, from GitLab’s official repository <code class="highlighter-rouge">gitlab/gitlab-runner-helper</code> by using the Runner’s
revision and architecture for defining which tag should be downloaded.</p>

<h3 id="overriding-the-helper-image">Overriding the helper image<a href="#overriding-the-helper-image" title="Permalink" class="anchor"></a>
</h3>

<p>In some cases, you may need to override the helper image. There are many reasons for doing this:</p>

<ol>
  <li>
    <p><strong>To speed up jobs execution</strong>: In environments with slower internet connection, downloading over and over again the
same image from Docker Hub may generate a significant increase of a job’s timings. Downloading the helper image from
a local registry (where the exact copy of <code class="highlighter-rouge">gitlab/gitlab-runner-helper:XYZ</code> is stored) may speed things up.</p>
  </li>
  <li>
    <p><strong>Security concerns</strong>: Many people don’t like to download external dependencies that were not checked before. There
might be a business rule to use only dependencies that were reviewed and stored in local repositories.</p>
  </li>
  <li>
    <p><strong>Build environments without internet access</strong>: In some cases, jobs are being executed in an environment which has
a dedicated, closed network (this doesn’t apply to the <code class="highlighter-rouge">kubernetes</code> executor where the image still needs to be downloaded
from an external registry that is available at least to the Kubernetes cluster).</p>
  </li>
  <li>
    <p><strong>Additional software</strong>: Some users may want to install some additional software to the helper image, like
<code class="highlighter-rouge">openssh</code> to support submodules accessible via <code class="highlighter-rouge">git+ssh</code> instead of <code class="highlighter-rouge">git+http</code>.</p>
  </li>
</ol>

<p>In any of the cases described above, it’s possible to configure a custom image using the <code class="highlighter-rouge">helper_image</code> configuration field,
that is available for the <code class="highlighter-rouge">docker</code>, <code class="highlighter-rouge">docker+machine</code> and <code class="highlighter-rouge">kubernetes</code> executors:</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[[runners]]</span>
  <span class="err">(...)</span>
  <span class="py">executor</span> <span class="p">=</span> <span class="s">"docker"</span>
  <span class="nn">[runners.docker]</span>
    <span class="err">(...)</span>
    <span class="py">helper_image</span> <span class="p">=</span> <span class="s">"my.registry.local/gitlab/gitlab-runner-helper:tag"</span>
</code></pre></div></div>

<p>Note that the version of the helper image should be considered as strictly coupled with the version of GitLab Runner.
As it was described above, one of the main reasons of providing such images is that Runner is using the
<code class="highlighter-rouge">gitlab-runner-helper</code> binary, and this binary is compiled from part of GitLab Runner sources which is using an internal
API that is expected to be the same in both binaries.</p>

<p>The Runner by default references to a <code class="highlighter-rouge">gitlab/gitlab-runner-helper:XYZ</code> image, where <code class="highlighter-rouge">XYZ</code> is based
on the Runner’s architecture and Git revision. Starting with <strong>GitLab Runner 11.3</strong> it’s possible to define the version
of used image automatically, by using one of the
<a href="https://gitlab.com/gitlab-org/gitlab-runner/blob/11-3-stable/common/version.go#L48-50">version variables</a>:</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[[runners]]</span>
  <span class="err">(...)</span>
  <span class="py">executor</span> <span class="p">=</span> <span class="s">"docker"</span>
  <span class="nn">[runners.docker]</span>
    <span class="err">(...)</span>
    <span class="py">helper_image</span> <span class="p">=</span> <span class="s">"my.registry.local/gitlab/gitlab-runner-helper:x86_64-${CI_RUNNER_REVISION}"</span>
</code></pre></div></div>

<p>With that configuration, GitLab Runner will instruct the executor to use the image in version <code class="highlighter-rouge">x86_64-${CI_RUNNER_REVISION}</code>,
which is based on its compilation data. After updating the Runner to a new version, this will ensure that the
Runner will try to download the proper image. This of course means that the image should be uploaded to the registry
before upgrading the Runner, otherwise the jobs will start failing with a “No such image” error.</p>

<h2 id="the-runnerscustom_build_dir-section">The <code class="highlighter-rouge">[runners.custom_build_dir]</code> section<a href="#the-runnerscustom_build_dir-section" title="Permalink" class="anchor"></a>
</h2>

<div class="admonition-wrapper note"><div class="admonition alert alert-info">
<i class="fa fa-info-circle fa-fw" aria-hidden="true"></i><strong>Note:</strong>
<a href="https://gitlab.com/gitlab-org/gitlab-runner/merge_requests/1267">Introduced</a> in GitLab Runner 11.10</div></div>

<p>This section defines <a href="https://docs.gitlab.com/ee/ci/yaml/README.html#custom-build-directories">custom build directories</a> parameters.</p>

<p>Please notice, that the feature - if not configured explicitly - will be
enabled by default for <code class="highlighter-rouge">kubernetes</code>, <code class="highlighter-rouge">docker</code>, <code class="highlighter-rouge">docker-ssh</code>, <code class="highlighter-rouge">docker+machine</code>
and <code class="highlighter-rouge">docker-ssh+machine</code> executors. It will be disabled by default for all other
executors.</p>

<p>This feature requires that <code class="highlighter-rouge">GIT_CLONE_PATH</code> is within a path defined
within <code class="highlighter-rouge">runners.builds_dir</code>. For the ease of using <code class="highlighter-rouge">builds_dir</code> the
<code class="highlighter-rouge">$CI_BUILDS_DIR</code> variable can be used.</p>

<p>The feature is by default enabled only for <code class="highlighter-rouge">docker</code> and <code class="highlighter-rouge">kubernetes</code> executors
as they provide a good way to separate resources. This feature can be
explicitly enabled for any executor, but special care should be taken when using
with executors that share <code class="highlighter-rouge">builds_dir</code> and have <code class="highlighter-rouge">concurrent &gt; 1</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">enabled</code></td>
      <td>boolean</td>
      <td>Allow user to define a custom build directory for a job</td>
    </tr>
  </tbody>
</table>

<p>Example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>runners.custom_build_dir]
  enabled <span class="o">=</span> <span class="nb">true</span>
</code></pre></div></div>

<h2 id="note">Note<a href="#note" title="Permalink" class="anchor"></a>
</h2>

<p>If you’d like to deploy to multiple servers using GitLab CI, you can create a
single script that deploys to multiple servers or you can create many scripts.
It depends on what you’d like to do.</p>


      </div>
      
      
  <div class="comments">
    <div class="comments-filter">
      <h2 id="help-and-feedback">
        <i class="fa fa-star-half-o" aria-hidden="true"></i>
        Help and feedback
        <a class="anchor" href="#help-and-feedback"></a>
      </h2>
      <div>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation"><a class="active" href="#docs-feedback" aria-controls="docs-feedback" role="tab" data-toggle="tab">
            <i class="fa fa-file-text-o" aria-hidden="true"></i>
             <strong>DOCS</strong> FEEDBACK</a>
          </li>
          <li role="presentation"><a href="#product-feedback" aria-controls="product-feedback" role="tab" data-toggle="tab">
            <i class="fa fa-gitlab" aria-hidden="true"></i>
            <strong>PRODUCT</strong> FEEDBACK</a>
          </li>
          <li role="presentation"><a href="#get-help" aria-controls="get-help" role="tab" data-toggle="tab">
            <i class="fa fa-question-circle" aria-hidden="true"></i>
            GET <strong>HELP</strong></a>
          </li>
          <li role="presentation"><a href="#get-more-features" aria-controls="get-more-features" role="tab" data-toggle="tab">
            <i class="fa fa-line-chart" aria-hidden="true"></i>
            GET MORE <strong>FEATURES</strong></a>
          </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane" id="product-feedback"><!-- product-feedback tab -->
            <div class="row" id="issue-row"><!-- issue-row -->
              <div class="col-md-8 col-sm-12">
                <p>If there's something <strong>you don't like</strong> about <strong>this feature</strong>
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://gitlab.com/gitlab-org/gitlab/issues/new?issue[title]=Docs%20-%20product%20feedback:%20Write%20your%20title&issue[description]=Describe%20what%20you%20would%20like%20to%20see%20improved.%0A%0A%3C!--%20Don%27t%20edit%20below%20this%20line%20--%3E%0A%0A%2Flabel%20~%22docs%5C-comments%22%20" target="_blank">
                  <i class="fa fa-info-circle" aria-hidden="true"></i>
                  CREATE AN ISSUE
                </a>
              </div>
            </div> <!-- issue-row -->
            <div class="row" id="feature-proposal-row"><!-- feature-proposal-row -->
              <div class="col-md-8 col-sm-12">
                <p>To propose <strong>functionality that GitLab does not yet offer</strong>
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://gitlab.com/gitlab-org/gitlab/issues/new?issuable_template=Feature%20proposal&issue[title]=Docs%20feedback%20-%20feature%20proposal:%20Write%20your%20title" target="_blank">
                  <i class="fa fa-plus-circle" aria-hidden="true"></i>
                  SUBMIT FEATURE PROPOSAL
                </a>
              </div>
            </div><!-- feature-proposal-row -->
            <div class="row" id="feature-proposal-row"><!-- beta-testing-row -->
              <div class="col-md-8 col-sm-12">
                <p>To further <strong>help GitLab in shaping new features</strong>
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://about.gitlab.com/community/gitlab-first-look/" target="_blank">
                  <i class="fa fa-check-circle" aria-hidden="true"></i>
                  JOIN BETA TESTING
                </a>
              </div>
            </div><!-- beta-testing-row -->
          </div><!-- product-feedback tab -->

          <div role="tabpanel" class="tab-pane" id="get-help"><!-- get-help tab -->
            <div class="row" id="search-row"><!-- search-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you <strong>didn't find</strong> what you were looking for
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="/search/" target="_blank">
                  <i class="fa fa-search" aria-hidden="true"></i>
                  SEARCH THE DOCS
                </a>
              </div>
            </div><!-- search-row -->

            <div class="row" id="forum-row"><!-- forum-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you want help with something very <strong>specific to your use case</strong>,
                  and can use some community support
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <p>
                  <a role="button" class="comments-holder btn btn-default" href="https://forum.gitlab.com/" target="_blank">
                    <i class="fa fa-users" aria-hidden="true"></i>
                    POST ON GITLAB FORUM
                  </a>
                </p>
              </div>
            </div><!-- forum-row -->

            <div class="row" id="support-row"><!-- support-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you <strong>have problems</strong> setting up or using this feature (depending on your GitLab subscription)
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <p>
                  <a role="button" class="comments-holder btn btn-default" href="https://about.gitlab.com/support/" target="_blank">
                    <i class="fa fa-user-circle-o" aria-hidden="true"></i>
                    REQUEST SUPPORT
                  </a>
                </p>
              </div>
            </div><!-- support-row -->
          </div><!-- get-help tab -->

          <div role="tabpanel" class="tab-pane" id="get-more-features"><!-- get-more-features tab -->
            <div class="row" id="sales-row"><!-- gitlab-pricing-row -->
              <div class="col-md-8 col-sm-12">
                <p>To view <strong>all GitLab tiers</strong> and features or to upgrade
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://about.gitlab.com/pricing/" target="_blank">
                  <i class="fa fa-credit-card-alt" aria-hidden="true"></i>
                  VIEW PRICING PAGE
                </a>
              </div>
            </div><!-- gitlab-pricing-row -->

            <div class="row" id="sales-row"><!-- gitlab-gold-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you want to try all features available in <strong>GitLab.com</strong>
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://customers.gitlab.com/trials/new?gl_com=true" target="_blank">
                  <i class="fa fa-cloud" aria-hidden="true"></i>
                  GITLAB GOLD FREE-TRIAL
                </a>
              </div>
            </div><!-- gitlab-gold-row -->

            <div class="row" id="sales-row"><!-- gitlab-ultimate-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you want to try all features available in <strong>GitLab self-managed</strong>
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://about.gitlab.com/free-trial/" target="_blank">
                  <i class="fa fa-server" aria-hidden="true"></i>
                  GITLAB ULTIMATE FREE-TRIAL
                </a>
              </div>
            </div><!-- gitlab-ultimate-row -->
          </div><!-- get-more-features tab -->

          <div role="tabpanel" class="tab-pane active" id="docs-feedback"><!-- docs-feedback tab -->
            <div class="row" id="edit-page-row"><!-- edit-page-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you <strong>spot an error or a need for improvement</strong> and would like to <strong>fix it yourself</strong> in a merge request
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <p>
                  <a role="button" class="comments-holder btn btn-default" href="https://gitlab.com/gitlab-org/gitlab-runner/blob/master/docs/configuration/advanced-configuration.md" target="_blank">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    EDIT THIS PAGE
                  </a>
                </p>
              </div>
            </div><!-- edit-page-row -->

            <div class="row" id="doc-issue-row"><!-- doc-issue-row -->
              <div class="col-md-8 col-sm-12">
                <p>If you would like to <strong>suggest an improvement to this doc</strong>
                  <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                </p>
              </div>
              <div class="col-md-4 col-sm-12">
                <a role="button" class="comments-holder btn btn-default" href="https://gitlab.com/gitlab-org/gitlab/issues/new?issue[title]=Docs%20feedback:%20Write%20your%20title&issue[description]=Link%20the%20doc%20and%20describe%20what%20is%20wrong%20with%20it.%0A%0A%3C!--%20Don%27t%20edit%20below%20this%20line%20--%3E%0A%0A%2Flabel%20~Documentation%20~%22docs%5C-comments%22%20" target="_blank">
                  <i class="fa fa-info-circle" aria-hidden="true"></i>
                  CREATE AN ISSUE
                </a>
              </div>
            </div><!-- doc-issue-row -->
            
            
              
                <div class="row" id="disqus-row"><!-- disqus-row-->
                  <div class="col-md-8 col-sm-12">
                    <p>If you want to give <strong>quick and simple feedback</strong> on this doc
                      <i class="fa fa-arrow-right black-icon" aria-hidden="true"></i>
                    </p>
                  </div>
                  <div id="disqus_thread" class="disqus-comments-gitlab col-md-4 col-sm-12">
                    <a href="#" role="button" class="comments-holder btn btn-default" onclick="loadDisqus();return false;">
                      <i class="fa fa-comments-o" aria-hidden="true"></i>
                      SHOW AND POST COMMENTS
                    </a>
                  </div>
                </div><!-- disqus-row-->
              
            
          </div><!-- docs-feedback tab -->
        </div>
      </div>
    </div>
  </div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://docs.gitlab.com/runner/configuration/advanced-configuration.html';
      this.page.title = 'Advanced configuration - GitLab Documentation';
    
      this.page.identifier = 'https://docs.gitlab.com/runner/configuration/advanced-configuration.html';
    
    };

    var is_disqus_loaded = false;
    function loadDisqus() {
      if (!is_disqus_loaded){
        is_disqus_loaded = true;
        var disqusThread = document.getElementById('disqus_thread');
        var d = document, s = d.createElement('script');
        disqusThread.innerHTML = '';
        disqusThread.className = 'col-12'; // ensure the thread stretches the entire row
        s.src = 'https://gitlab-docs.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      }
    };
  </script>
  <script src="/frontend/bundles/feedback.js"></script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


    </div>
    <div class="clear"></div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  <script type="application/javascript" src="/assets/javascripts/clipboardjs-v1.js"></script>
  <script type="application/javascript" src="/assets/javascripts/badges-v2.js"></script>
  <!-- Algolia docsearch https://community.algolia.com/docsearch/ -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
var search = docsearch({
  apiKey: 'ce1690e1421303458a1fcbea0cc4a927',
  indexName: 'gitlab',
  inputSelector: '.docsearch',
  algoliaOptions: {
    // Filter by tags as described in https://github.com/algolia/docsearch-configs/blob/master/configs/gitlab.json
    'filters': "tags:gitlab<score=4> OR tags:omnibus<score=3> OR tags:runner<score=2> OR tags:charts<score=1>",
    // Number of results shown in the search dropdown
    'hitsPerPage': 10
  },
  debug: false, // Set debug to true if you want to inspect the dropdown
  autocompleteOptions: {
      'autoselect': false
    }
});

var mobileSearch = docsearch({
  apiKey: 'ce1690e1421303458a1fcbea0cc4a927',
  indexName: 'gitlab',
  inputSelector: '.docsearch-mobile',
  algoliaOptions: {
    // Filter by tags as described in https://github.com/algolia/docsearch-configs/blob/master/configs/gitlab.json
    'filters': "tags:gitlab<score=4> OR tags:omnibus<score=3> OR tags:runner<score=2> OR tags:charts<score=1>",
    // Number of results shown in the search dropdown
    'hitsPerPage': 10
  },
  debug: false, // Set debug to true if you want to inspect the dropdown
  autocompleteOptions: {
      'autoselect': false
    }
});
</script>

  <script type="text/javascript">
  function loadMermaidJsIfNeeded() {
    if (document.querySelector('.mermaid') === null) {
      return;
     }

    var element = document.createElement("script");
    element.src = "//cdnjs.cloudflare.com/ajax/libs/mermaid/8.2.6/mermaid.min.js";
    element.onload = function(){mermaid.init();};
    document.body.appendChild(element);
  }

if (window.addEventListener)
   window.addEventListener("load", loadMermaidJsIfNeeded, false);
else if (window.attachEvent)
   window.attachEvent("onload", loadMermaidJsIfNeeded);
else window.onload = loadMermaidJsIfNeeded;
</script>

  
<script type="text/javascript">
  // Redirect to https with javascript
  var host = "docs.gitlab.com";
  if ((host == window.location.host) && (window.location.protocol != 'https:')) {
    window.location = window.location.toString().replace(/^http:/, "https:");
  }
</script>


  
  
    <!-- Facebook -->
<script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','//connect.facebook.net/en_US/fbevents.js');

  fbq('init', '1689559637958103');
  fbq('track', "PageView");
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1689559637958103&ev=PageView&noscript=1"
/></noscript>

<!-- Marketo -->
<script type="text/javascript">
  (function() {
    var didInit = false;
    function initMunchkin() {
      if(didInit === false) {
        didInit = true;
        Munchkin.init('194-VVC-221');
      }
    }
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = 'https://munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

<!-- Bizible -->
<script type="text/javascript" src="https://cdn.bizible.com/scripts/bizible.js" async=""></script>

<!-- Global site tag (gtag.js) - Google Ads: 923339191 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-923339191"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'AW-923339191');
</script>

<!-- Linkedin -->
<script type="text/javascript">
_linkedin_partner_id = "30694";
window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
window._linkedin_data_partner_ids.push(_linkedin_partner_id);
</script><script type="text/javascript">
  (function(){var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);})();
</script>
<noscript>
  <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=30694&fmt=gif" />
</noscript>

  
  <footer class=footer>
    <svg width=65 height=60 viewBox="0 0 210 194" class=footer-logo> <path d="M105.0614,193.655 L105.0614,193.655 L143.7014,74.734 L66.4214,74.734 L105.0614,193.655 L105.0614,193.655 Z" fill="#E24329" class="logo-svg-shape logo-dark-orange-shape"/> <path d="M105.0614,193.6548 L66.4214,74.7338 L12.2684,74.7338 L105.0614,193.6548 Z" fill="#FC6D26" class="logo-svg-shape logo-orange-shape"/> <path d="M12.2685,74.7341 L12.2685,74.7341 L0.5265,110.8731 C-0.5445,114.1691 0.6285,117.7801 3.4325,119.8171 L105.0615,193.6551 L12.2685,74.7341 Z" fill="#FCA326" class="logo-svg-shape logo-light-orange-shape"/> <path d="M12.2685,74.7342 L66.4215,74.7342 L43.1485,3.1092 C41.9515,-0.5768 36.7375,-0.5758 35.5405,3.1092 L12.2685,74.7342 Z" fill="#E24329" class="logo-svg-shape logo-dark-orange-shape"/> <path d="M105.0614,193.6548 L143.7014,74.7338 L197.8544,74.7338 L105.0614,193.6548 Z" fill="#FC6D26" class="logo-svg-shape logo-orange-shape"/> <path d="M197.8544,74.7341 L197.8544,74.7341 L209.5964,110.8731 C210.6674,114.1691 209.4944,117.7801 206.6904,119.8171 L105.0614,193.6551 L197.8544,74.7341 Z" fill="#FCA326" class="logo-svg-shape logo-light-orange-shape"/> <path d="M197.8544,74.7342 L143.7014,74.7342 L166.9744,3.1092 C168.1714,-0.5768 173.3854,-0.5758 174.5824,3.1092 L197.8544,74.7342 Z" fill="#E24329" class="logo-svg-shape logo-dark-orange-shape"/> </svg>

  <div class='animated container'>
    <ul class='text-center footer-social'>
      <li> <a href="https://twitter.com/gitlab" target="_blank"><i class='fa fa-twitter'></i> <span class=sr-only>Twitter</span></a></li>
      <li> <a href="https://www.facebook.com/gitlab" target="_blank"><i class='fa fa-facebook'></i> <span class=sr-only>Facebook</span> </a></li>
      <li> <a href="https://www.youtube.com/channel/UCnMGQ8QHMAnVIsI3xJrihhg" target="_blank"><i class='fa fa-youtube'></i> <span class=sr-only>YouTube</span> </a></li>
      <li> <a href="https://www.linkedin.com/company/gitlab-com" target="_blank"><i class='fa fa-linkedin'></i> <span class=sr-only>LinkedIn</span> </a></li>
    </ul>
    <div class="row justify-content-center">
      <div class='col-6 col-md-3 col-lg-2 col-lg-offset-2 footer-link-holder'>
        <h3 class=footer-link-title>Products</h3>
        <ul class='animated footer-links'>
          <li><a href="https://about.gitlab.com/features/" target="_blank">Features</a></li>
          <li><a href="https://about.gitlab.com/install/" target="_blank">Installation</a></li>
          <li><a href="https://about.gitlab.com/pricing/#gitlab-com" target="_blank">GitLab.com</a></li>
          <li><a href="https://about.gitlab.com/pricing/" target="_blank">Pricing</a></li>
          <li><a href="https://about.gitlab.com/releases/" target="_blank">Releases</a></li>
        </ul>
      </div>
      <div class='col-6 col-md-3 col-lg-2 footer-link-holder'>
        <h3 class=footer-link-title>Services</h3>
        <ul class='animated footer-links'>
          <li><a href="https://about.gitlab.com/resellers/" target="_blank">Resellers</a></li>
          <li><a href="https://about.gitlab.com/services/" target="_blank">Services</a></li>
        </ul>
      </div>
      <div class='col-6 col-md-3 col-lg-2 footer-link-holder'>
        <h3 class=footer-link-title>Community</h3>
        <ul class='animated footer-links'>
          <li><a href="https://about.gitlab.com/resources/" target="_blank">Resources</a></li>
          <li><a href="https://about.gitlab.com/events/" target="_blank">Events</a></li>
          <li><a href="https://about.gitlab.com/community/core-team/" target="_blank">Core Team</a></li>
          <li><a href="https://contributors.gitlab.com/" target="_blank">Contributors</a></li>
          <li><a href="https://about.gitlab.com/events/find-a-speaker/" target="_blank">Find a Speaker</a></li>
          <li><a href="/">Documentation</a></li>
          <li><a href="https://about.gitlab.com/get-help/" target="_blank">Getting Help</a></li>
          <li><a href="https://about.gitlab.com/community/contribute/" target="_blank">Contributing</a></li>
          <li><a href="https://about.gitlab.com/partners/" target="_blank">Technology Partners</a></li>
          <li><a href="https://about.gitlab.com/community/mvp/" target="_blank">Hall of Fame</a></li>
        </ul>
      </div>
      <div class='col-6 col-md-3 col-lg-2 footer-link-holder'>
        <h3 class=footer-link-title>Company</h3>
        <ul class='animated footer-links'>
          <li><a href="https://gitlab.com/groups/gitlab-org" target="_blank">Source Code</a></li>
          <li><a href="https://about.gitlab.com/blog/" target="_blank">Blog</a></li>
          <li><a href="https://about.gitlab.com/customers/" target="_blank">Customers</a></li>
          <li><a href="https://about.gitlab.com/press/" target="_blank">Press and Logos</a></li>
          <li><a href="https://shop.gitlab.com/" target="_blank">Shop</a></li>
          <li><a href="https://about.gitlab.com/company/" target="_blank">About Us</a></li>
          <li><a href="https://about.gitlab.com/company/team/" target="_blank">Team</a></li>
          <li><a href="https://about.gitlab.com/direction/" target="_blank">Direction</a></li>
          <li><a href="https://about.gitlab.com/handbook/" target="_blank">Handbook</a></li>
          <li><a href="https://about.gitlab.com/jobs/" target="_blank">Jobs</a></li>
          <li><a href="https://about.gitlab.com/terms/" target="_blank">Terms</a></li>
          <li><a href="https://about.gitlab.com/privacy/" target="_blank">Privacy Policy</a></li>
          <li><a href="https://about.gitlab.com/company/contact/" target="_blank">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </div>

</footer>
<div class='animated text-center source-link'>
  <a href='https://gitlab.com/gitlab-org/gitlab-docs' target='_blank'>Created</a> with Nanoc, hosted on <a href='https://about.gitlab.com/product/pages/' target='_blank'>GitLab Pages</a>
  <a href='https://creativecommons.org/licenses/by-sa/4.0/' target='_blank' rel="license" alt="Creative Commons License"><img src='/assets/images/by-sa.svg'></a>
  <a href='/cookies-policy/' alt='Cookies Policy'>Cookies Policy</a>
  
  
  <div class="edit-on">
    <i class="fa fa-code-fork" aria-hidden="true"></i>
    <a href="https://gitlab.com/gitlab-org/gitlab-runner/blob/master/docs/configuration/advanced-configuration.md">Edit this page</a>
    (<a href="https://gitlab.com/-/ide/project/gitlab-org/gitlab-runner/edit/master/-/docs/configuration/advanced-configuration.md">Web IDE</a>)
  </div>
  
</div>

  <script src="/assets/javascripts/docs-v1.js"></script>
  <script src="/assets/javascripts/global-nav-v.js"></script>
  <script src="/assets/javascripts/tables-v1.js"></script>
  <script src="/frontend/bundles/default.js" data-cookieconsent="ignore"></script>
</body>
</html>
