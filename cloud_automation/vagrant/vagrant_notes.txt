### vagrant notes ###
prerequis : 
virtualbox + modules dkms + kernel linux avec les headers correspondant. Il peut être nécéssaire de reconfigurer virtualbox-dkms :
sudo apt-get install virtualbox virtualbox-dkms linux-headers-amd64
sudo apt-get install linux-image-4.0.0-2-amd64 linux-headers-4.0.0-2-amd64
sudo dpkg-reconfigure virtualbox-dkms

Initialisation :
vagrant init ubuntu/trusty64
vagrant up # le premier up va download l'image vagrant de notre vm ubuntu
Un fois installé on voit dans notre repertoire  une arbo : 
boogie@x61:~/lab/ansible/playbooks$ tree .*
.
└── Vagrantfile
..
└── playbooks
    └── Vagrantfile
.vagrant
└── machines
    └── default
        └── virtualbox
            ├── action_provision
            ├── action_set_name
            ├── id
            ├── index_uuid
            ├── private_key
            └── synced_folders

On lance notre vm avec
vagrant up
On  y accede via
vagrant ssh
vagrant redirige le port 22 classique du ssh sur le port 2222
Pour modifier se comportement par defaut un 
vagrant ssh-config
Host default
  HostName 127.0.0.1
  User vagrant
  Port 2222
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  PasswordAuthentication no
  IdentityFile /home/boogie/lab/ansible/playbooks/.vagrant/machines/default/virtualbox/private_key
  IdentitiesOnly yes
  LogLevel FATAL

On peut par default se connecter via :

boogie@x61:~/lab/ansible/playbooks$ ssh vagrant@127.0.0.1 -p2222 -i /home/boogie/lab/ansible/playbooks/.vagrant/machines/default/virtualbox/private_key
The authenticity of host '[127.0.0.1]:2222 ([127.0.0.1]:2222)' can't be established.
ECDSA key fingerprint is f8:17:1b:a3:5d:55:4c:c8:c7:cd:33:ca:d1:66:2b:ac.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[127.0.0.1]:2222' (ECDSA) to the list of known hosts.
Welcome to Ubuntu 14.04.2 LTS (GNU/Linux 3.13.0-55-generic x86_64)
....








