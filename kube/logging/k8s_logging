	Problematique:

application loggin
stdout (résultat de toin applicatif) / stderr (les erreur de ton applicatif)
if you need more you create file that you can access and read

https://www.howtogeek.com/435903/what-are-stdin-stdout-and-stderr-on-linux/


	Niveau d'abstraction 1: les containers

Container with only one output flow with stdout et stderr mixed

https://docs.docker.com/config/containers/logging/

How logs are stored on your device from container, it depends on the logging driver

https://www.datadoghq.com/blog/docker-logging/


	Niveau d'abstraction 2: kube

comment journaliser les evenements ?
 - au niveau du noeud, l'agent de log qui lit les fichers de log et stream a la stack de log
 - container side-car, avec l'agent qui lit les fichier de log des pods
 - container side-car qui stream directement a la stack de log
 - le container stream directement a la stack de log

https://kubernetes.io/docs/concepts/cluster-administration/logging/

=> solution 1 que l'on a choisi du coup quel agent pour lire les logs et pouvoir les splits ?


	Comment récupérer ses logs ?

logstash
-> 

filebeat
-> is a beat 

fluentd
-> collector processor agregator, deployed for a cluster

fluent bit  
-> collector processor, deployed on each node


https://www.elastic.co/guide/en/beats/filebeat/current/index.html
https://logz.io/blog/fluentd-vs-fluent-bit/
https://gist.github.com/StevenACoffman/4e267f0f60c8e7fcb3f77b9e504f3bd7



=> fluent bit final choice moin d'utilisation memoire, moin d'utilisation cpu, deployé sur chaque no


	Fluent bit configuration, trier les sorties:


https://docs.fluentbit.io/manual/concepts/key-concepts
https://medium.com/kubernetes-tutorials/exporting-kubernetes-logs-to-elasticsearch-using-fluent-bit-758e8de606af
https://aws.amazon.com/fr/blogs/opensource/splitting-application-logs-multiple-streams-fluent/


Event or Record
Filtering
Tag
Timestamp
Match
Structured Message


data pipeline:
Input
Parser
Filter
Buffer
Routing



principe de reinjection



Send logs to elastic
faire des index vous conaissez la suite

