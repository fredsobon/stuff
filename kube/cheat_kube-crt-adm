==  cheatsheet kube : ==

=  etcd 
- pour examiner les clés enregistrées dans le cluster etcd on peut faire simplement :
kubectl exec etcd-master -n kube-system etcdctl get / --prefix -keys-only

On peut eventuellement essayer de tester le retour du contenu de etcd en cli ..en passant les bons arguments.
/var/lib/localkube/certs # etcdctl --cacert="etcd/ca.crt" --key=apiserver-etcd-client.key --cert=apiserver-et


== kubectl : 

= lancer et executer un container : 
kubectl run nginx --image nginx

= lister les pods présents : 
kubectl get pods

= lancer un container depuis une image : 

kubectl run nginx --image nginx

= detail d'un pod :

kubectl describe pods my-pod

= suppression d'un pod : 

master $ kubectl delete pods webapp
pod "webapp" deleted

= creation d'un container d'apres un fichier de definition de pod : 
master $ cat pod.yaml
apiVersion: v1
kind: Pod
metadata:
  name: redis
spec:
  containers:
  - name: redis
    image: redis

master $ kubectl apply -f pod.yaml
pod/redis created

= creation d'un container apres avoir modifier un fichier de definition de pod déja existant :

on modifie notre yaml puis on met a jour avec :

master $ kubectl apply -f pod.yaml
pod/redis configured


