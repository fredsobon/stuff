==== notes sur pulp= ===

===Create repo ===

pulp-admin -u admin -p admin 
pulp-admin -u admin -p admin rpm
pulp-admin -u admin -p admin rpm repo
pulp-admin -u admin -p admin rpm repo create
pulp-admin -u admin -p admin rpm repo create --feed https://www.percona.com/downloads/percona-toolkit/3.0.2 --repo-id perconna-test

+
Apres la creation du repo il faut publier 
ex 
 ./publish_repo.sh -r percona_plugins -a -c


=== Update repo ===

pulp-admin -u admin -p admin rpm repo 
pulp-admin -u admin -p admin rpm repo sync
pulp-admin -u admin -p admin rpm repo sync run
pulp-admin -u admin -p admin rpm repo sync run --repo-id perconna-test
pulp-admin -u admin -p admin rpm repo 
pulp-admin -u admin -p admin rpm repo update 
pulp-admin -u admin -p admin rpm repo update --feed https://www.percona.com/downloads/percona-monitoring-plugins/1.1.7 
pulp-admin -u admin -p admin rpm repo update --feed https://www.percona.com/downloads/percona-monitoring-plugins/1.1.7 --repo-id perconna-test


=== Synchro de repo ===

pulp-admin -u admin -p admin rpm repo sync run --repo-id perconna-test
pulp-admin -u admin -p admin rpm repo update --feed https://www.percona.com/downloads/percona-toolkit/3.0.2/binary/redhat/6/ --repo-id perconna-test
pulp-admin -u admin -p admin rpm repo sync run --repo-id perconna-test
pulp-admin -u admin -p admin -v rpm repo sync run --repo-id perconna-test



=== ajout rpm dans le repo ==

apres la creation d'une arbo 

ex : 
[root@xinfpulp00uv /var/lib/scripts] # tree /var/lib/pulp/rpms/percona_toolkit
/var/lib/pulp/rpms/percona_toolkit
├── percona-toolkit-3.0.2-1.el6.x86_64.rpm
└── percona-toolkit-debuginfo-3.0.2-1.el6.x86_64.rpm

0 directories, 2 files
il faut ajouter les rpms à l'arbo du repo et sa gestion 

./add_rpms.sh -r percona_toolkit -d /var/lib/pulp/rpms/percona_toolkit -c

